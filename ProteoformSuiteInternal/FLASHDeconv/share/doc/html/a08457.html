<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: LogStreamBuf Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a05822.html">OpenMS</a></li><li class="navelem"><a class="el" href="a05833.html">Logger</a></li><li class="navelem"><a class="el" href="a08457.html">LogStreamBuf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="a08454.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LogStreamBuf Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stream buffer used by <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a>.  
 <a href="a08457.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a03512_source.html">OpenMS/CONCEPT/LogStream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LogStreamBuf:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a08457.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:a08465"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a08465">LogCacheStruct</a></td></tr>
<tr class="memdesc:a08465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds a counter of occurrences and an index for the occurrence sequence of the corresponding log message.  <a href="a08457.html#a08465">More...</a><br /></td></tr>
<tr class="separator:a08465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08461.html">StreamStruct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds a stream that is connected to the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a>. It also includes the minimum and maximum level at which the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> redirects messages to this stream.  <a href="a08461.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors and Destructors</div></td></tr>
<tr class="memitem:aad575356e0e7f634a6d8196298a92dbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#aad575356e0e7f634a6d8196298a92dbc">LogStreamBuf</a> (std::string log_level=<a class="el" href="a08457.html#ad36f3f44e4d2588eeee1c6f2d720c338">UNKNOWN_LOG_LEVEL</a>)</td></tr>
<tr class="separator:aad575356e0e7f634a6d8196298a92dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d908534c226df1af433df4b0c84335e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a4d908534c226df1af433df4b0c84335e">~LogStreamBuf</a> () override</td></tr>
<tr class="separator:a4d908534c226df1af433df4b0c84335e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Stream methods</div></td></tr>
<tr class="memitem:a49fe7a467e50a0980f8d807db50740e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00001.html#a12329">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a49fe7a467e50a0980f8d807db50740e5">sync</a> () override</td></tr>
<tr class="separator:a49fe7a467e50a0980f8d807db50740e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1eaeefdd92588d051f93a3b96eaada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00001.html#a12329">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#aeb1eaeefdd92588d051f93a3b96eaada">overflow</a> (<a class="el" href="a00001.html#a12329">int</a> c=-1) override</td></tr>
<tr class="separator:aeb1eaeefdd92588d051f93a3b96eaada"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constants</div></td></tr>
<tr class="memitem:aea48fe7f9e682b049bf60eeeea7d3bd0"><td class="memItemLeft" align="right" valign="top">static const time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#aea48fe7f9e682b049bf60eeeea7d3bd0">MAX_TIME</a></td></tr>
<tr class="separator:aea48fe7f9e682b049bf60eeeea7d3bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36f3f44e4d2588eeee1c6f2d720c338"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#ad36f3f44e4d2588eeee1c6f2d720c338">UNKNOWN_LOG_LEVEL</a></td></tr>
<tr class="separator:ad36f3f44e4d2588eeee1c6f2d720c338"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aabe1238b9c317325110868340635ff1f"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#aabe1238b9c317325110868340635ff1f">LogStream</a></td></tr>
<tr class="separator:aabe1238b9c317325110868340635ff1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Level methods</h2></td></tr>
<tr class="memitem:a188f8c6ddab01c31f0b5dff92928facd"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a188f8c6ddab01c31f0b5dff92928facd">pbuf_</a></td></tr>
<tr class="separator:a188f8c6ddab01c31f0b5dff92928facd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5034cb9bb8a2e54eaa2dbc23eb5b8892"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a5034cb9bb8a2e54eaa2dbc23eb5b8892">level_</a></td></tr>
<tr class="separator:a5034cb9bb8a2e54eaa2dbc23eb5b8892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a67f1e6f7843426f191d92f10ad4e85"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="a08461.html">StreamStruct</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a5a67f1e6f7843426f191d92f10ad4e85">stream_list_</a></td></tr>
<tr class="separator:a5a67f1e6f7843426f191d92f10ad4e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace42e5a90535c1077a29cb9f332ee4d8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#ace42e5a90535c1077a29cb9f332ee4d8">incomplete_line_</a></td></tr>
<tr class="separator:ace42e5a90535c1077a29cb9f332ee4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefdf576666fce5063ca5e054ae4008f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#aaefdf576666fce5063ca5e054ae4008f">setLevel</a> (std::string level)</td></tr>
<tr class="separator:aaefdf576666fce5063ca5e054ae4008f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5de8300b41bfa13ed6c26b3b7870c85"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#ac5de8300b41bfa13ed6c26b3b7870c85">getLevel</a> ()</td></tr>
<tr class="separator:ac5de8300b41bfa13ed6c26b3b7870c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b1d39c78e5682128a85ce27d4392e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a91b1d39c78e5682128a85ce27d4392e8">clearCache</a> ()</td></tr>
<tr class="separator:a91b1d39c78e5682128a85ce27d4392e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fc660114cba0bc735f85f4b7be7f40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#af1fc660114cba0bc735f85f4b7be7f40">distribute_</a> (std::string outstring)</td></tr>
<tr class="memdesc:af1fc660114cba0bc735f85f4b7be7f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distribute a new message to connected streams.  <a href="a08457.html#af1fc660114cba0bc735f85f4b7be7f40">More...</a><br /></td></tr>
<tr class="separator:af1fc660114cba0bc735f85f4b7be7f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3985d68bf3f59614e96eb2dbc4a6bec8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a3985d68bf3f59614e96eb2dbc4a6bec8">expandPrefix_</a> (const std::string &amp;prefix, time_t time) const</td></tr>
<tr class="memdesc:a3985d68bf3f59614e96eb2dbc4a6bec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the prefix format string and return the expanded prefix.  <a href="a08457.html#a3985d68bf3f59614e96eb2dbc4a6bec8">More...</a><br /></td></tr>
<tr class="separator:a3985d68bf3f59614e96eb2dbc4a6bec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Caching</h2></td></tr>
<tr class="memitem:a271980ea3aeb6fc392ade8de3edd96ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a271980ea3aeb6fc392ade8de3edd96ad">log_cache_counter_</a></td></tr>
<tr class="separator:a271980ea3aeb6fc392ade8de3edd96ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4bc64b7b4b811321d62941fb0f68df"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="a08457.html#a08465">LogCacheStruct</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a8e4bc64b7b4b811321d62941fb0f68df">log_cache_</a></td></tr>
<tr class="memdesc:a8e4bc64b7b4b811321d62941fb0f68df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache of the last two log messages.  <a href="a08457.html#a8e4bc64b7b4b811321d62941fb0f68df">More...</a><br /></td></tr>
<tr class="separator:a8e4bc64b7b4b811321d62941fb0f68df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6325c3434ad1cca5ecb9083ead2fa2"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a>, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a1f6325c3434ad1cca5ecb9083ead2fa2">log_time_cache_</a></td></tr>
<tr class="memdesc:a1f6325c3434ad1cca5ecb9083ead2fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache of the occurrence sequence of the last two log messages.  <a href="a08457.html#a1f6325c3434ad1cca5ecb9083ead2fa2">More...</a><br /></td></tr>
<tr class="separator:a1f6325c3434ad1cca5ecb9083ead2fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ce6a4751469f863abdd3e8c8b9a372"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#ad4ce6a4751469f863abdd3e8c8b9a372">isInCache_</a> (std::string const &amp;line)</td></tr>
<tr class="memdesc:ad4ce6a4751469f863abdd3e8c8b9a372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the line is already in the cache.  <a href="a08457.html#ad4ce6a4751469f863abdd3e8c8b9a372">More...</a><br /></td></tr>
<tr class="separator:ad4ce6a4751469f863abdd3e8c8b9a372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd79d657304f6e29dd8f7b2cb7386337"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#acd79d657304f6e29dd8f7b2cb7386337">addToCache_</a> (std::string const &amp;line)</td></tr>
<tr class="separator:acd79d657304f6e29dd8f7b2cb7386337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3927dbc0313411254340e72907226b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a0b3927dbc0313411254340e72907226b">getNextLogCounter_</a> ()</td></tr>
<tr class="memdesc:a0b3927dbc0313411254340e72907226b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next free index for a log message.  <a href="a08457.html#a0b3927dbc0313411254340e72907226b">More...</a><br /></td></tr>
<tr class="separator:a0b3927dbc0313411254340e72907226b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb11ffdf2cc1913f0ee5074f30a7d87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00001.html#a12329">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08457.html#a9eb11ffdf2cc1913f0ee5074f30a7d87">syncLF_</a> ()</td></tr>
<tr class="memdesc:a9eb11ffdf2cc1913f0ee5074f30a7d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-lock acquiring sync function called in the d'tor.  <a href="a08457.html#a9eb11ffdf2cc1913f0ee5074f30a7d87">More...</a><br /></td></tr>
<tr class="separator:a9eb11ffdf2cc1913f0ee5074f30a7d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream buffer used by <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a>. </p>
<p>This class implements the low level behavior of <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> . It takes care of the buffers and stores the lines written into the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> object. It also contains a list of streams that are associated with the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> object. This list contains pointers to the streams and their minimum and maximum log level. Each line entered in the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> is marked with its time (in fact, the time <a class="el" href="a08457.html#a49fe7a467e50a0980f8d807db50740e5">LogStreamBuf::sync</a> was called) and its loglevel. The loglevel is determined by either the current loglevel (as set by <a class="el" href="a08473.html#aaefdf576666fce5063ca5e054ae4008f">LogStream::setLevel</a> or a temporary level (as set by LogStream::level for a single line only). For each line stored, the list of associated streams is checked whether the loglevel falls into the range declared by the stream's minimum and maximum level. If this condition is met, the logline (with its prefix, see <a class="el" href="a08473.html#a7ca325997ca4efb5081584792643cc9b">LogStream::setPrefix</a> ) is also copied to the associated stream and this stream is flushed, too. </p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="a08465" id="a08465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08465">&#9670;&nbsp;</a></span>OpenMS::Logger::LogStreamBuf::LogCacheStruct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct OpenMS::Logger::LogStreamBuf::LogCacheStruct</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Holds a counter of occurrences and an index for the occurrence sequence of the corresponding log message. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a617a47c70795bcff659815ad0efd2266"></a><a class="el" href="a00001.html#a12329">int</a></td>
<td class="fieldname">
counter</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a688e2ce5a1aba4178919f0de4745027e"></a><a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a></td>
<td class="fieldname">
timestamp</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aad575356e0e7f634a6d8196298a92dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad575356e0e7f634a6d8196298a92dbc">&#9670;&nbsp;</a></span>LogStreamBuf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a08457.html">LogStreamBuf</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>log_level</em> = <code><a class="el" href="a08457.html#ad36f3f44e4d2588eeee1c6f2d720c338">UNKNOWN_LOG_LEVEL</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="a08457.html" title="Stream buffer used by LogStream.">LogStreamBuf</a> object and set the level to log_level </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_level</td><td>The log level of the <a class="el" href="a08457.html" title="Stream buffer used by LogStream.">LogStreamBuf</a> (default is unknown) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d908534c226df1af433df4b0c84335e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d908534c226df1af433df4b0c84335e">&#9670;&nbsp;</a></span>~LogStreamBuf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="a08457.html">LogStreamBuf</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destruct the buffer and free all stored messages strings. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acd79d657304f6e29dd8f7b2cb7386337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd79d657304f6e29dd8f7b2cb7386337">&#9670;&nbsp;</a></span>addToCache_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string addToCache_ </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the new line to the cache and removes an old one if necessary</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>The Log message that should be added to the cache </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An additional massage if a re-occurring message was removed from the cache </dd></dl>

</div>
</div>
<a id="a91b1d39c78e5682128a85ce27d4392e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b1d39c78e5682128a85ce27d4392e8">&#9670;&nbsp;</a></span>clearCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if some of the cached entries where sent more then once to the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> and (if necessary) prints a corresponding messages into all affected Logs </p>

</div>
</div>
<a id="af1fc660114cba0bc735f85f4b7be7f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fc660114cba0bc735f85f4b7be7f40">&#9670;&nbsp;</a></span>distribute_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void distribute_ </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>outstring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distribute a new message to connected streams. </p>

</div>
</div>
<a id="a3985d68bf3f59614e96eb2dbc4a6bec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3985d68bf3f59614e96eb2dbc4a6bec8">&#9670;&nbsp;</a></span>expandPrefix_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string expandPrefix_ </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpret the prefix format string and return the expanded prefix. </p>

</div>
</div>
<a id="ac5de8300b41bfa13ed6c26b3b7870c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5de8300b41bfa13ed6c26b3b7870c85">&#9670;&nbsp;</a></span>getLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string getLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the LogLevel of this <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a> </p>

</div>
</div>
<a id="a0b3927dbc0313411254340e72907226b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3927dbc0313411254340e72907226b">&#9670;&nbsp;</a></span>getNextLogCounter_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a> getNextLogCounter_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next free index for a log message. </p>

</div>
</div>
<a id="ad4ce6a4751469f863abdd3e8c8b9a372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ce6a4751469f863abdd3e8c8b9a372">&#9670;&nbsp;</a></span>isInCache_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool isInCache_ </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the line is already in the cache. </p>

</div>
</div>
<a id="aeb1eaeefdd92588d051f93a3b96eaada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1eaeefdd92588d051f93a3b96eaada">&#9670;&nbsp;</a></span>overflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00001.html#a12329">int</a> overflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00001.html#a12329">int</a>&#160;</td>
          <td class="paramname"><em>c</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method calls sync and <code>streambuf::overflow(c)</code> to prevent a buffer overflow. </p>

</div>
</div>
<a id="aaefdf576666fce5063ca5e054ae4008f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefdf576666fce5063ca5e054ae4008f">&#9670;&nbsp;</a></span>setLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setLevel </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the level of the <a class="el" href="a08473.html" title="Log Stream Class.">LogStream</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The new LogLevel </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49fe7a467e50a0980f8d807db50740e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49fe7a467e50a0980f8d807db50740e5">&#9670;&nbsp;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00001.html#a12329">int</a> sync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called as soon as the ostream is flushed (especially this method is called by flush or endl). It transfers the contents of the streambufs putbuffer into a logline if a newline or linefeed character is found in the buffer ("\n" or "\r" resp.). The line is then removed from the putbuffer. Incomplete lines (not terminated by "\n" / "\r" are stored in incomplete_line_. </p>

</div>
</div>
<a id="a9eb11ffdf2cc1913f0ee5074f30a7d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb11ffdf2cc1913f0ee5074f30a7d87">&#9670;&nbsp;</a></span>syncLF_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00001.html#a12329">int</a> syncLF_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-lock acquiring sync function called in the d'tor. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aabe1238b9c317325110868340635ff1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe1238b9c317325110868340635ff1f">&#9670;&nbsp;</a></span>LogStream</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a08473.html">LogStream</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ace42e5a90535c1077a29cb9f332ee4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace42e5a90535c1077a29cb9f332ee4d8">&#9670;&nbsp;</a></span>incomplete_line_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string incomplete_line_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5034cb9bb8a2e54eaa2dbc23eb5b8892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5034cb9bb8a2e54eaa2dbc23eb5b8892">&#9670;&nbsp;</a></span>level_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string level_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e4bc64b7b4b811321d62941fb0f68df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4bc64b7b4b811321d62941fb0f68df">&#9670;&nbsp;</a></span>log_cache_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="a08457.html#a08465">LogCacheStruct</a>&gt; log_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache of the last two log messages. </p>

</div>
</div>
<a id="a271980ea3aeb6fc392ade8de3edd96ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271980ea3aeb6fc392ade8de3edd96ad">&#9670;&nbsp;</a></span>log_cache_counter_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a> log_cache_counter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sequential counter to remember the sequence of occurrence of the cached log messages </p>

</div>
</div>
<a id="a1f6325c3434ad1cca5ecb9083ead2fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6325c3434ad1cca5ecb9083ead2fa2">&#9670;&nbsp;</a></span>log_time_cache_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="a05782.html#gaf9ecec2d692138fab9167164a457cbd4">Size</a>, std::string&gt; log_time_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache of the occurrence sequence of the last two log messages. </p>

</div>
</div>
<a id="aea48fe7f9e682b049bf60eeeea7d3bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea48fe7f9e682b049bf60eeeea7d3bd0">&#9670;&nbsp;</a></span>MAX_TIME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const time_t MAX_TIME</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a188f8c6ddab01c31f0b5dff92928facd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188f8c6ddab01c31f0b5dff92928facd">&#9670;&nbsp;</a></span>pbuf_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* pbuf_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a67f1e6f7843426f191d92f10ad4e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a67f1e6f7843426f191d92f10ad4e85">&#9670;&nbsp;</a></span>stream_list_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="a08461.html">StreamStruct</a>&gt; stream_list_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad36f3f44e4d2588eeee1c6f2d720c338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36f3f44e4d2588eeee1c6f2d720c338">&#9670;&nbsp;</a></span>UNKNOWN_LOG_LEVEL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string UNKNOWN_LOG_LEVEL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:07:07 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
