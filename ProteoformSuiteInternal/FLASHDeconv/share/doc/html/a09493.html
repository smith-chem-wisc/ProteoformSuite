<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: MSNumpressCoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a05822.html">OpenMS</a></li><li class="navelem"><a class="el" href="a09493.html">MSNumpressCoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="a09490.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MSNumpressCoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to encode and decode data encoded with MSNumpress.  
 <a href="a09493.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a04022_source.html">OpenMS/FORMAT/MSNumpressCoder.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09497.html">NumpressConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration class for MSNumpress.  <a href="a09497.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5d2ea0d5c7438220fc2b9c50838aae09"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09">NumpressCompression</a> { <br />
&#160;&#160;<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>, 
<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09adc101ebf31c49c2d4b80b7c6f59f22cb">LINEAR</a>, 
<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09a1e08b42a5493d6eb589cccacf9df334f">PIC</a>, 
<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09a337db65ca1811b6026d4f6050d5fdabd">SLOF</a>, 
<br />
&#160;&#160;<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09a90fd3e12f42de64b9699004b59d3b279">SIZE_OF_NUMPRESSCOMPRESSION</a>
<br />
 }</td></tr>
<tr class="memdesc:a5d2ea0d5c7438220fc2b9c50838aae09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Names of compression schemes.  <a href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09">More...</a><br /></td></tr>
<tr class="separator:a5d2ea0d5c7438220fc2b9c50838aae09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a574e1ac76336f95be0688427daad195b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a574e1ac76336f95be0688427daad195b">MSNumpressCoder</a> ()</td></tr>
<tr class="memdesc:a574e1ac76336f95be0688427daad195b"><td class="mdescLeft">&#160;</td><td class="mdescRight">default constructor  <a href="a09493.html#a574e1ac76336f95be0688427daad195b">More...</a><br /></td></tr>
<tr class="separator:a574e1ac76336f95be0688427daad195b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4163a18fad9c5af9919b01e7d8f681c2"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a4163a18fad9c5af9919b01e7d8f681c2">~MSNumpressCoder</a> ()</td></tr>
<tr class="memdesc:a4163a18fad9c5af9919b01e7d8f681c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="a09493.html#a4163a18fad9c5af9919b01e7d8f681c2">More...</a><br /></td></tr>
<tr class="separator:a4163a18fad9c5af9919b01e7d8f681c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4378abe909b236ef15aa78f0e37c693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#ab4378abe909b236ef15aa78f0e37c693">encodeNP</a> (const std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;in, <a class="el" href="a08769.html">String</a> &amp;result, bool zlib_compression, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="memdesc:ab4378abe909b236ef15aa78f0e37c693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a vector of floating point numbers into a <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> string using numpress.  <a href="a09493.html#ab4378abe909b236ef15aa78f0e37c693">More...</a><br /></td></tr>
<tr class="separator:ab4378abe909b236ef15aa78f0e37c693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b6e07f28e0e71c57f653efaa50132f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a30b6e07f28e0e71c57f653efaa50132f">encodeNP</a> (const std::vector&lt; <a class="el" href="a00001.html#a12189">float</a> &gt; &amp;in, <a class="el" href="a08769.html">String</a> &amp;result, bool zlib_compression, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="memdesc:a30b6e07f28e0e71c57f653efaa50132f"><td class="mdescLeft">&#160;</td><td class="mdescRight">encodeNP from a float (convert first to double)  <a href="a09493.html#a30b6e07f28e0e71c57f653efaa50132f">More...</a><br /></td></tr>
<tr class="separator:a30b6e07f28e0e71c57f653efaa50132f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf687251417d5d55aeb457e4d87553ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#adf687251417d5d55aeb457e4d87553ee">decodeNP</a> (const <a class="el" href="a08769.html">String</a> &amp;in, std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;out, bool zlib_compression, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="memdesc:adf687251417d5d55aeb457e4d87553ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes a <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> string to a vector of floating point numbers using numpress.  <a href="a09493.html#adf687251417d5d55aeb457e4d87553ee">More...</a><br /></td></tr>
<tr class="separator:adf687251417d5d55aeb457e4d87553ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778ab9461465f6eba5b94796da5db524"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a778ab9461465f6eba5b94796da5db524">encodeNPRaw</a> (const std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;in, <a class="el" href="a08769.html">String</a> &amp;result, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="memdesc:a778ab9461465f6eba5b94796da5db524"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the data vector "in" to a raw byte array.  <a href="a09493.html#a778ab9461465f6eba5b94796da5db524">More...</a><br /></td></tr>
<tr class="separator:a778ab9461465f6eba5b94796da5db524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0da5c1888f00b0a4d1e386a366cfb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a4b0da5c1888f00b0a4d1e386a366cfb3">decodeNPRaw</a> (const std::string &amp;in, std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;out, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="memdesc:a4b0da5c1888f00b0a4d1e386a366cfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the raw byte array "in" to the result vector "out".  <a href="a09493.html#a4b0da5c1888f00b0a4d1e386a366cfb3">More...</a><br /></td></tr>
<tr class="separator:a4b0da5c1888f00b0a4d1e386a366cfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a6437d00c76469fc2b114a132bafa4ff2"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a6437d00c76469fc2b114a132bafa4ff2">NamesOfNumpressCompression</a> [<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09a90fd3e12f42de64b9699004b59d3b279">SIZE_OF_NUMPRESSCOMPRESSION</a>]</td></tr>
<tr class="separator:a6437d00c76469fc2b114a132bafa4ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a146ed220511d2f63e5ea40048e75f173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a09493.html#a146ed220511d2f63e5ea40048e75f173">decodeNPInternal_</a> (const unsigned char *in, size_t in_size, std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;out, const <a class="el" href="a09497.html">NumpressConfig</a> &amp;config)</td></tr>
<tr class="separator:a146ed220511d2f63e5ea40048e75f173"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to encode and decode data encoded with MSNumpress. </p>
<p>MSNumpress supports three encoding schemata:</p><ul>
<li>Linear (MS:1002312, MS-Numpress linear prediction compression)</li>
<li>Pic (MS:1002313, MS-Numpress positive integer compression)</li>
<li>Slof (MS:1002314, MS-Numpress short logged float compression)</li>
</ul>
<p>Note that the linear compression scheme only makes sense for monotonically increasing data (such as retention time and m/z) that is often equally spaced. Pic compression only makes sense for positive integers as all data will be rounded to the nearest integer. Slof makes sense for all other data (such as non-integer intensity values).</p>
<p>For more information on the compression schemata, see</p>
<p>Teleman J et al, "Numerical compression schemes for proteomics mass spectrometry data." Mol Cell Proteomics. 2014 Jun;13(6):1537-42. doi: 10.1074/mcp.O114.037879. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5d2ea0d5c7438220fc2b9c50838aae09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d2ea0d5c7438220fc2b9c50838aae09">&#9670;&nbsp;</a></span>NumpressCompression</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09">NumpressCompression</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Names of compression schemes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5d2ea0d5c7438220fc2b9c50838aae09ac157bdf0b85a40d2619cbc8bc1ae5fe2"></a>NONE&#160;</td><td class="fielddoc"><p>No compression is applied. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5d2ea0d5c7438220fc2b9c50838aae09adc101ebf31c49c2d4b80b7c6f59f22cb"></a>LINEAR&#160;</td><td class="fielddoc"><p>Linear (MS:1002312, MS-Numpress linear prediction compression) </p>
</td></tr>
<tr><td class="fieldname"><a id="a5d2ea0d5c7438220fc2b9c50838aae09a1e08b42a5493d6eb589cccacf9df334f"></a>PIC&#160;</td><td class="fielddoc"><p>Pic (MS:1002313, MS-Numpress positive integer compression) </p>
</td></tr>
<tr><td class="fieldname"><a id="a5d2ea0d5c7438220fc2b9c50838aae09a337db65ca1811b6026d4f6050d5fdabd"></a>SLOF&#160;</td><td class="fielddoc"><p>Slof (MS:1002314, MS-Numpress short logged float compression) </p>
</td></tr>
<tr><td class="fieldname"><a id="a5d2ea0d5c7438220fc2b9c50838aae09a90fd3e12f42de64b9699004b59d3b279"></a>SIZE_OF_NUMPRESSCOMPRESSION&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a574e1ac76336f95be0688427daad195b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574e1ac76336f95be0688427daad195b">&#9670;&nbsp;</a></span>MSNumpressCoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a09493.html">MSNumpressCoder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>default constructor </p>

</div>
</div>
<a id="a4163a18fad9c5af9919b01e7d8f681c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4163a18fad9c5af9919b01e7d8f681c2">&#9670;&nbsp;</a></span>~MSNumpressCoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="a09493.html">MSNumpressCoder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adf687251417d5d55aeb457e4d87553ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf687251417d5d55aeb457e4d87553ee">&#9670;&nbsp;</a></span>decodeNP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void decodeNP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a08769.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>zlib_compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes a <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> string to a vector of floating point numbers using numpress. </p>
<p>This code is obtained from the proteowizard implementation ./pwiz/pwiz/data/msdata/BinaryDataEncoder.cpp (adapted by Hannes Roest).</p>
<p>This function will first decode the input base64 string (with optional zlib decompression after decoding) and then apply numpress decoding to the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>The base64 encoded string </td></tr>
    <tr><td class="paramname">out</td><td>The resulting vector of doubles </td></tr>
    <tr><td class="paramname">zlib_compression</td><td>Whether to apply zlib de-compression before numpress de-compression </td></tr>
    <tr><td class="paramname">config</td><td>The numpress configuration defining the compression strategy</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">throws</td><td><a class="el" href="a08321.html" title="Invalid conversion exception.">Exception::ConversionError</a> if the string cannot be converted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a146ed220511d2f63e5ea40048e75f173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146ed220511d2f63e5ea40048e75f173">&#9670;&nbsp;</a></span>decodeNPInternal_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void decodeNPInternal_ </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>in_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4b0da5c1888f00b0a4d1e386a366cfb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b0da5c1888f00b0a4d1e386a366cfb3">&#9670;&nbsp;</a></span>decodeNPRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void decodeNPRaw </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode the raw byte array "in" to the result vector "out". </p>
<dl class="section note"><dt>Note</dt><dd>The string in should *only* contain the data and _no_ extra null terminating byte.</dd></dl>
<p>This performs the raw numpress decoding on a raw byte array (not <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> encoded). Therefore the input string is likely *unsafe* to handle and is basically a byte container.</p>
<p>Please use the safe versions above unless you only have the raw byte arrays.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>The base64 encoded string </td></tr>
    <tr><td class="paramname">out</td><td>The resulting vector of doubles </td></tr>
    <tr><td class="paramname">config</td><td>The numpress configuration defining the compression strategy</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">throws</td><td><a class="el" href="a08321.html" title="Invalid conversion exception.">Exception::ConversionError</a> if the string cannot be converted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4378abe909b236ef15aa78f0e37c693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4378abe909b236ef15aa78f0e37c693">&#9670;&nbsp;</a></span>encodeNP() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encodeNP </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a08769.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>zlib_compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a vector of floating point numbers into a <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> string using numpress. </p>
<p>This code is obtained from the proteowizard implementation ./pwiz/pwiz/data/msdata/BinaryDataEncoder.cpp (adapted by Hannes Roest).</p>
<p>This function will first apply the numpress encoding to the data, then encode the result in base64 (with optional zlib compression before base64 encoding).</p>
<dl class="section note"><dt>Note</dt><dd>In case of error, result string is empty</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>The vector of floating point numbers to be encoded </td></tr>
    <tr><td class="paramname">result</td><td>The resulting string </td></tr>
    <tr><td class="paramname">zlib_compression</td><td>Whether to apply zlib compression after numpress compression </td></tr>
    <tr><td class="paramname">config</td><td>The numpress configuration defining the compression strategy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30b6e07f28e0e71c57f653efaa50132f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b6e07f28e0e71c57f653efaa50132f">&#9670;&nbsp;</a></span>encodeNP() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encodeNP </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="a00001.html#a12189">float</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a08769.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>zlib_compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>encodeNP from a float (convert first to double) </p>

</div>
</div>
<a id="a778ab9461465f6eba5b94796da5db524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a778ab9461465f6eba5b94796da5db524">&#9670;&nbsp;</a></span>encodeNPRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encodeNPRaw </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a08769.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a09497.html">NumpressConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the data vector "in" to a raw byte array. </p>
<dl class="section note"><dt>Note</dt><dd>In case of error, "result" is given back unmodified </dd>
<dd>
The result is not a string but a raw byte array and may contain zero bytes</dd></dl>
<p>This performs the raw numpress encoding on a set of data and does no <a class="el" href="a09093.html" title="Class to encode and decode Base64.">Base64</a> encoding on the result. Therefore the result string is likely *unsafe* to handle and is a raw byte array.</p>
<p>Please use the safe versions above unless you need access to the raw byte arrays.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>The vector of floating point numbers to be encoded </td></tr>
    <tr><td class="paramname">result</td><td>The resulting string </td></tr>
    <tr><td class="paramname">config</td><td>The numpress configuration defining the compression strategy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6437d00c76469fc2b114a132bafa4ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6437d00c76469fc2b114a132bafa4ff2">&#9670;&nbsp;</a></span>NamesOfNumpressCompression</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string NamesOfNumpressCompression[<a class="el" href="a09493.html#a5d2ea0d5c7438220fc2b9c50838aae09a90fd3e12f42de64b9699004b59d3b279">SIZE_OF_NUMPRESSCOMPRESSION</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:48 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
