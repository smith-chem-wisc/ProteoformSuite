<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: FASTAContainer&lt; TFI_File &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a05822.html">OpenMS</a></li><li class="navelem"><a class="el" href="a08613.html">FASTAContainer&lt; TFI_File &gt;</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="a08610.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FASTAContainer&lt; TFI_File &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="a08613.html" title="FASTAContainer&lt;TFI_File&gt; will make FASTA entries available chunk-wise from start to end by loading it...">FASTAContainer&lt;TFI_File&gt;</a> will make FASTA entries available chunk-wise from start to end by loading it from a FASTA file. This avoids having to load the full file into memory. While loading, the container will memorize the file offsets of each entry, allowing to read an arbitrary i'th entry again from disk. If possible, only entries from the currently cached chunk should be queried, otherwise access will be slow.  
 <a href="a08613.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a03608_source.html">OpenMS/DATASTRUCTURES/FASTAContainer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aab3e7a3b6cd9077716219cad1643e4fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#aab3e7a3b6cd9077716219cad1643e4fd">FASTAContainer</a> ()=delete</td></tr>
<tr class="separator:aab3e7a3b6cd9077716219cad1643e4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9bd95b5946be5670d500d53c692e25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a8e9bd95b5946be5670d500d53c692e25">FASTAContainer</a> (const <a class="el" href="a08769.html">String</a> &amp;FASTA_file)</td></tr>
<tr class="memdesc:a8e9bd95b5946be5670d500d53c692e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">C'tor with FASTA filename.  <a href="a08613.html#a8e9bd95b5946be5670d500d53c692e25">More...</a><br /></td></tr>
<tr class="separator:a8e9bd95b5946be5670d500d53c692e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87aa007230b0dbaa794827cbb1717f6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#af87aa007230b0dbaa794827cbb1717f6">getChunkOffset</a> () const</td></tr>
<tr class="memdesc:af87aa007230b0dbaa794827cbb1717f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">how many entries were read and got swapped out already  <a href="a08613.html#af87aa007230b0dbaa794827cbb1717f6">More...</a><br /></td></tr>
<tr class="separator:af87aa007230b0dbaa794827cbb1717f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d41974a4c271d961c80ff050e4b9511"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a8d41974a4c271d961c80ff050e4b9511">activateCache</a> ()</td></tr>
<tr class="memdesc:a8d41974a4c271d961c80ff050e4b9511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps in the background cache of entries, read previously via <code><a class="el" href="a08613.html#aa08e7d92a32d88dca0e7e709297f3d63" title="Prefetch a new cache in the background, with up to suggestedSize entries (or fewer upon reaching EOF)">cacheChunk()</a></code>  <a href="a08613.html#a8d41974a4c271d961c80ff050e4b9511">More...</a><br /></td></tr>
<tr class="separator:a8d41974a4c271d961c80ff050e4b9511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08e7d92a32d88dca0e7e709297f3d63"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#aa08e7d92a32d88dca0e7e709297f3d63">cacheChunk</a> (<a class="el" href="a00001.html#a12329">int</a> suggested_size)</td></tr>
<tr class="memdesc:aa08e7d92a32d88dca0e7e709297f3d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefetch a new cache in the background, with up to <code>suggestedSize</code> entries (or fewer upon reaching EOF)  <a href="a08613.html#aa08e7d92a32d88dca0e7e709297f3d63">More...</a><br /></td></tr>
<tr class="separator:aa08e7d92a32d88dca0e7e709297f3d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1136a434afc1928d92a605480b506c1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#ad1136a434afc1928d92a605480b506c1">chunkSize</a> () const</td></tr>
<tr class="memdesc:ad1136a434afc1928d92a605480b506c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of entries in active cache  <a href="a08613.html#ad1136a434afc1928d92a605480b506c1">More...</a><br /></td></tr>
<tr class="separator:ad1136a434afc1928d92a605480b506c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a7e9b4fd98a156703f43a97f13efa6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a09257.html">FASTAFile::FASTAEntry</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#ad3a7e9b4fd98a156703f43a97f13efa6">chunkAt</a> (size_t pos) const</td></tr>
<tr class="memdesc:ad3a7e9b4fd98a156703f43a97f13efa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a FASTA entry at cache position <code>pos</code> (fast)  <a href="a08613.html#ad3a7e9b4fd98a156703f43a97f13efa6">More...</a><br /></td></tr>
<tr class="separator:ad3a7e9b4fd98a156703f43a97f13efa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15def9ca36699c87a3be745002b98301"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a15def9ca36699c87a3be745002b98301">readAt</a> (<a class="el" href="a09257.html">FASTAFile::FASTAEntry</a> &amp;protein, size_t pos)</td></tr>
<tr class="memdesc:a15def9ca36699c87a3be745002b98301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a FASTA entry at global position @pos (must not be behind the currently active chunk, but can be smaller)  <a href="a08613.html#a15def9ca36699c87a3be745002b98301">More...</a><br /></td></tr>
<tr class="separator:a15def9ca36699c87a3be745002b98301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644718bb2fb240de962dc3c9a1fdf0dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a> () const</td></tr>
<tr class="memdesc:a644718bb2fb240de962dc3c9a1fdf0dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">is the FASTA file empty?  <a href="a08613.html#a644718bb2fb240de962dc3c9a1fdf0dc">More...</a><br /></td></tr>
<tr class="separator:a644718bb2fb240de962dc3c9a1fdf0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="memdesc:ad20897c5c8bd47f5d4005989bead0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">resets reading of the FASTA file, enables fresh reading of the FASTA from the beginning  <a href="a08613.html#ad20897c5c8bd47f5d4005989bead0e55">More...</a><br /></td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259cb5a711406a8c3e5d937eb9350cca"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a259cb5a711406a8c3e5d937eb9350cca">size</a> () const</td></tr>
<tr class="memdesc:a259cb5a711406a8c3e5d937eb9350cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOT the number of entries in the FASTA file, but merely the number of already read entries (since we do not know how many are still to come)  <a href="a08613.html#a259cb5a711406a8c3e5d937eb9350cca">More...</a><br /></td></tr>
<tr class="separator:a259cb5a711406a8c3e5d937eb9350cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa452cf13b885325bf3c0a707907e0c1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a09253.html">FASTAFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#aa452cf13b885325bf3c0a707907e0c1a">f_</a></td></tr>
<tr class="memdesc:aa452cf13b885325bf3c0a707907e0c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">FASTA file connection.  <a href="a08613.html#aa452cf13b885325bf3c0a707907e0c1a">More...</a><br /></td></tr>
<tr class="separator:aa452cf13b885325bf3c0a707907e0c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f98a0677fe403cef38b81e94c18c2f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::streampos &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a63f98a0677fe403cef38b81e94c18c2f">offsets_</a></td></tr>
<tr class="memdesc:a63f98a0677fe403cef38b81e94c18c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal byte offsets into FASTA file for random access reading of previous entries.  <a href="a08613.html#a63f98a0677fe403cef38b81e94c18c2f">More...</a><br /></td></tr>
<tr class="separator:a63f98a0677fe403cef38b81e94c18c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a9a4a9544c62dd9c4a51308a6c123c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="a09257.html">FASTAFile::FASTAEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#aa4a9a4a9544c62dd9c4a51308a6c123c">data_fg_</a></td></tr>
<tr class="memdesc:aa4a9a4a9544c62dd9c4a51308a6c123c"><td class="mdescLeft">&#160;</td><td class="mdescRight">active (foreground) data  <a href="a08613.html#aa4a9a4a9544c62dd9c4a51308a6c123c">More...</a><br /></td></tr>
<tr class="separator:aa4a9a4a9544c62dd9c4a51308a6c123c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cb97cb5d3cae631e274861afffabc4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="a09257.html">FASTAFile::FASTAEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a13cb97cb5d3cae631e274861afffabc4">data_bg_</a></td></tr>
<tr class="memdesc:a13cb97cb5d3cae631e274861afffabc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">prefetched (background) data; will become the next active data  <a href="a08613.html#a13cb97cb5d3cae631e274861afffabc4">More...</a><br /></td></tr>
<tr class="separator:a13cb97cb5d3cae631e274861afffabc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dde26cd9f7723585d69a31bc2c0806d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a08613.html#a9dde26cd9f7723585d69a31bc2c0806d">chunk_offset_</a></td></tr>
<tr class="memdesc:a9dde26cd9f7723585d69a31bc2c0806d"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of entries before the current chunk  <a href="a08613.html#a9dde26cd9f7723585d69a31bc2c0806d">More...</a><br /></td></tr>
<tr class="separator:a9dde26cd9f7723585d69a31bc2c0806d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;&gt;<br />
class OpenMS::FASTAContainer&lt; TFI_File &gt;</h3>

<p><a class="el" href="a08613.html" title="FASTAContainer&lt;TFI_File&gt; will make FASTA entries available chunk-wise from start to end by loading it...">FASTAContainer&lt;TFI_File&gt;</a> will make FASTA entries available chunk-wise from start to end by loading it from a FASTA file. This avoids having to load the full file into memory. While loading, the container will memorize the file offsets of each entry, allowing to read an arbitrary i'th entry again from disk. If possible, only entries from the currently cached chunk should be queried, otherwise access will be slow. </p>
<p>Internally uses <a class="el" href="a09253.html" title="This class serves for reading in and writing FASTA files.">FASTAFile</a> class to read single sequences. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aab3e7a3b6cd9077716219cad1643e4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3e7a3b6cd9077716219cad1643e4fd">&#9670;&nbsp;</a></span>FASTAContainer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05822.html#a08609">FASTAContainer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e9bd95b5946be5670d500d53c692e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9bd95b5946be5670d500d53c692e25">&#9670;&nbsp;</a></span>FASTAContainer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05822.html#a08609">FASTAContainer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a08769.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>FASTA_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>C'tor with FASTA filename. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8d41974a4c271d961c80ff050e4b9511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d41974a4c271d961c80ff050e4b9511">&#9670;&nbsp;</a></span>activateCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool activateCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swaps in the background cache of entries, read previously via <code><a class="el" href="a08613.html#aa08e7d92a32d88dca0e7e709297f3d63" title="Prefetch a new cache in the background, with up to suggestedSize entries (or fewer upon reaching EOF)">cacheChunk()</a></code> </p>
<p>If you call this function without a prior call to <code><a class="el" href="a08613.html#aa08e7d92a32d88dca0e7e709297f3d63" title="Prefetch a new cache in the background, with up to suggestedSize entries (or fewer upon reaching EOF)">cacheChunk()</a></code>, the cache will be empty. </p><dl class="section return"><dt>Returns</dt><dd>true if cache contains data; false if empty </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Should be invoked by a single thread, followed by a barrier to sync access of subsequent calls to <a class="el" href="a08613.html#ad3a7e9b4fd98a156703f43a97f13efa6" title="Retrieve a FASTA entry at cache position pos (fast)">chunkAt()</a> </dd></dl>

</div>
</div>
<a id="aa08e7d92a32d88dca0e7e709297f3d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa08e7d92a32d88dca0e7e709297f3d63">&#9670;&nbsp;</a></span>cacheChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cacheChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00001.html#a12329">int</a>&#160;</td>
          <td class="paramname"><em>suggested_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefetch a new cache in the background, with up to <code>suggestedSize</code> entries (or fewer upon reaching EOF) </p>
<p>Call <code><a class="el" href="a08613.html#a8d41974a4c271d961c80ff050e4b9511" title="Swaps in the background cache of entries, read previously via cacheChunk()">activateCache()</a></code> afterwards to make the data available via <code><a class="el" href="a08613.html#ad3a7e9b4fd98a156703f43a97f13efa6" title="Retrieve a FASTA entry at cache position pos (fast)">chunkAt()</a></code> or <code><a class="el" href="a08613.html#a15def9ca36699c87a3be745002b98301" title="Retrieve a FASTA entry at global position @pos (must not be behind the currently active chunk,...">readAt()</a></code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">suggested_size</td><td>Number of FASTA entries to read from disk </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if new data is available; false if background data is empty </dd></dl>

</div>
</div>
<a id="ad3a7e9b4fd98a156703f43a97f13efa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a7e9b4fd98a156703f43a97f13efa6">&#9670;&nbsp;</a></span>chunkAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a09257.html">FASTAFile::FASTAEntry</a>&amp; chunkAt </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a FASTA entry at cache position <code>pos</code> (fast) </p>
<p>Requires prior call to <a class="el" href="a08613.html#a8d41974a4c271d961c80ff050e4b9511" title="Swaps in the background cache of entries, read previously via cacheChunk()">activateCache()</a>. Index <code>pos</code> must be smaller than <a class="el" href="a08613.html#ad1136a434afc1928d92a605480b506c1" title="number of entries in active cache">chunkSize()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>: can be used by multiple threads at a time (until <a class="el" href="a08613.html#a8d41974a4c271d961c80ff050e4b9511" title="Swaps in the background cache of entries, read previously via cacheChunk()">activateCache()</a> is called) </dd></dl>

</div>
</div>
<a id="ad1136a434afc1928d92a605480b506c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1136a434afc1928d92a605480b506c1">&#9670;&nbsp;</a></span>chunkSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t chunkSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of entries in active cache </p>

</div>
</div>
<a id="a644718bb2fb240de962dc3c9a1fdf0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644718bb2fb240de962dc3c9a1fdf0dc">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>is the FASTA file empty? </p>

</div>
</div>
<a id="af87aa007230b0dbaa794827cbb1717f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87aa007230b0dbaa794827cbb1717f6">&#9670;&nbsp;</a></span>getChunkOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t getChunkOffset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>how many entries were read and got swapped out already </p>

</div>
</div>
<a id="a15def9ca36699c87a3be745002b98301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15def9ca36699c87a3be745002b98301">&#9670;&nbsp;</a></span>readAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool readAt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a09257.html">FASTAFile::FASTAEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>protein</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a FASTA entry at global position @pos (must not be behind the currently active chunk, but can be smaller) </p>
<p>This query is fast, if @pos hits the currently active chunk, and slow (read from disk) for earlier entries. Can be used before reaching the end of the file, since it will reset the file position after its done reading (if reading from disk is required), but must not be used for entries beyond the active chunk (unseen data).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protein</td><td>Return value </td></tr>
    <tr><td class="paramname">pos</td><td>Absolute entry number in FASTA file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if reading was successful; false otherwise (e.g. EOF) </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="a08293.html" title="Int overflow exception.">Exception::IndexOverflow</a></td><td>if <code>pos</code> is beyond active chunk </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: not multi-threading safe (use <a class="el" href="a08613.html#ad3a7e9b4fd98a156703f43a97f13efa6" title="Retrieve a FASTA entry at cache position pos (fast)">chunkAt()</a>)! </dd></dl>

</div>
</div>
<a id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20897c5c8bd47f5d4005989bead0e55">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>resets reading of the FASTA file, enables fresh reading of the FASTA from the beginning </p>

</div>
</div>
<a id="a259cb5a711406a8c3e5d937eb9350cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259cb5a711406a8c3e5d937eb9350cca">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NOT the number of entries in the FASTA file, but merely the number of already read entries (since we do not know how many are still to come) </p>
<dl class="section note"><dt>Note</dt><dd>Data in the background cache is included here, i.e. access to <a class="el" href="a08613.html#a259cb5a711406a8c3e5d937eb9350cca" title="NOT the number of entries in the FASTA file, but merely the number of already read entries (since we ...">size()</a>-1 using <a class="el" href="a08613.html#a15def9ca36699c87a3be745002b98301" title="Retrieve a FASTA entry at global position @pos (must not be behind the currently active chunk,...">readAt()</a> might be slow if <a class="el" href="a08613.html#a8d41974a4c271d961c80ff050e4b9511" title="Swaps in the background cache of entries, read previously via cacheChunk()">activateCache()</a> was not called yet. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9dde26cd9f7723585d69a31bc2c0806d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dde26cd9f7723585d69a31bc2c0806d">&#9670;&nbsp;</a></span>chunk_offset_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t chunk_offset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of entries before the current chunk </p>

</div>
</div>
<a id="a13cb97cb5d3cae631e274861afffabc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cb97cb5d3cae631e274861afffabc4">&#9670;&nbsp;</a></span>data_bg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="a09257.html">FASTAFile::FASTAEntry</a>&gt; data_bg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>prefetched (background) data; will become the next active data </p>

</div>
</div>
<a id="aa4a9a4a9544c62dd9c4a51308a6c123c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a9a4a9544c62dd9c4a51308a6c123c">&#9670;&nbsp;</a></span>data_fg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="a09257.html">FASTAFile::FASTAEntry</a>&gt; data_fg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>active (foreground) data </p>

</div>
</div>
<a id="aa452cf13b885325bf3c0a707907e0c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa452cf13b885325bf3c0a707907e0c1a">&#9670;&nbsp;</a></span>f_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a09253.html">FASTAFile</a> f_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>FASTA file connection. </p>

</div>
</div>
<a id="a63f98a0677fe403cef38b81e94c18c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f98a0677fe403cef38b81e94c18c2f">&#9670;&nbsp;</a></span>offsets_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::streampos&gt; offsets_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal byte offsets into FASTA file for random access reading of previous entries. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:39 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
