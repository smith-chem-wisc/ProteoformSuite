<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16242.html">TOPPAS tutorial</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following sections explain the example pipelines TOPPAS comes with. You can open them by selecting <em>File</em> &gt; <em>Open</em> <em>example</em> <em>file</em>. All input files and parameters are already specified, so you can just hit <em>Pipeline</em> &gt; <em>Run</em> (or press <em>F5</em>) and see what happens.</p>
<h1><a class="anchor" id="TOPPAS_peak_picking_example"></a>
Profile data processing</h1>
<p>The file <em>peakpicker_tutorial.toppas</em> contains a simple pipeline representing a common use case: starting with profile data, the noise is eliminated and the baseline is subtracted. Then, PeakPickerWavelet is used to find all peaks in the noise-filtered and baseline-reduced profile data. This workflow is also described in the section <a class="el" href="a16212.html">Profile data processing</a>. The individual steps are explained in more detail in the TOPPView tutorial: <a class="el" href="a16224.html">Smoothing raw data</a>, <a class="el" href="a16223.html">Subtracting a baseline from a spectrum</a>, and <a class="el" href="a16225.html">Picking peaks</a>.</p>
<div class="image">
<img src="TOPPAS_example_profile_data_processing.png" alt=""/>
</div>
 <h1><a class="anchor" id="TOPPAS_id_example"></a>
Identification of E. coli peptides</h1>
<p>This section describes an example identification pipeline contained in the example directory, <em>Ecoli_Identification.toppas</em>. It is shipped together with a reduced example mzML file containing 139 MS2 spectra from an E. coli run on an Orbitrap instrument as well as an E. coli target-decoy database.</p>
<p>We use the search engine OMSSA (Geer et al., 2004) for peptide identification. Therefore, OMSSA must be installed and the path to the OMSSA executable (omssacl) must be set in the parameters of the OMSSAAdapter node.</p>
<ul>
<li>Node #1 accepts mzML files containing MS2 spectra.</li>
<li>Node #2 provides the database and is set to "recycling mode" to allow the database to be reused when there is more than one input file in node #1.</li>
<li>OMSSAAdapter calls OMSSA which performs the actual search.</li>
<li>PeptideIndexer annotates for each search result whether it is a target or a decoy hit.</li>
<li>FalseDiscoveryRate computes q-values for the IDs.</li>
<li>Finally, IDFilter selects only those IDs with a q-value of less than 1%.</li>
</ul>
<div class="image">
<img src="TOPPAS_Ecoli_Identification.png" alt=""/>
</div>
 <p>Extensions to this pipeline would be to do the annotation of the spectra with multiple search engines and combine the results afterwards, using the ConsensusID TOPP tool.</p>
<p>The results may be exported using the TextExporter tool, for further analysis with different tools.</p>
<h1><a class="anchor" id="TOPPAS_quant_example"></a>
Quantitation of BSA runs</h1>
<p>The simple pipeline described in this section (<em>BSA_Quantitation.toppas</em>) can be used to quantify peptides that occur on different runs. The example dataset contains three different bovine serum albumin (BSA) runs. First, FeatureFinderCentroided is called since the dataset is centroided. The results of the feature finding are then annotated with (existing) identification results. For convenience, we provide these search results from OMSSA with peptides with an FDR of 5% in the BSA directory.</p>
<div class="image">
<img src="TOPPAS_BSA_Quantitation.png" alt=""/>
</div>
 <p>Identifications are mapped to features by the IDMapper. The last step is performed by FeatureLinkerUnlabeled which links corresponding features. The results can be used to calculate ratios, for example. The data could also be exported to a text based format using the TextExporter for further processing (e.g., in Microsoft Excel).</p>
<p>The results can be opened in TOPPView. The next figures show the results in 2D and 3D view, together with the feature intermediate results. One can see that the intensities and retention times are slightly different between the runs. To correct for retention times shift, a map alignment could be done, either on the spectral data or on the feature data.</p>
<div class="image">
<img src="TOPPAS_BSA_results_2d.png" alt=""/>
</div>
 <div class="image">
<img src="TOPPAS_BSA_results_3d.png" alt=""/>
</div>
 <h1><a class="anchor" id="TOPPAS_merger_example"></a>
Merger and Collect nodes</h1>
<p>The following example is actually not a useful workflow but is supposed to demonstrate how merger and collector nodes can be used in a pipeline. Have a look at <em>merger_tutorial.toppas:</em> </p>
<div class="image">
<img src="TOPPAS_example_merger.png" alt=""/>
</div>
 <p>As its name suggests, a merger merges its incoming file lists, i.e., files of all incoming edges are appended into new lists (which have as many elements as the merger has incoming connections). All tools this merger has outgoing connections to are called with these merged lists as input files. All incoming connections should pass the same number of files (unless the corresponding preceding tool is in recycling mode).</p>
<p>A collector node, on the other hand, waits for all rounds to finish before concatenating all files from all incoming connections into one single list. It then calls the next tool with this list of files as input. This will happen exactly once during the entire pipeline run.</p>
<p>In order to track what is happening, you can just open the example file and run it. When the pipeline execution has finished, have a look at all input and output files (e.g., select <em>Open</em> <em>in</em> <em>TOPPView</em> in the context menu of the input/output nodes). The input files are named rt_1.mzML, rt_2.mzML, ... and each contains a single spectrum with RT as indicated by the filename, so you can easily see which files have been merged together. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:25 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
