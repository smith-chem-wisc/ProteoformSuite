<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: Epifany</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16243.html">UTILS documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="a11921.html">Epifany</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>EPIFANY - Efficient protein inference for any peptide-protein network is a Bayesian protein inference engine. It uses PSM (posterior) probabilities from Percolator, <a class="el" href="a05822.html" title="Main OpenMS namespace.">OpenMS</a>' IDPosteriorErrorProbability or similar tools to calculate posterior probabilities for proteins and protein groups.</p>
<dl class="experimental"><dt><b><a class="el" href="a05779.html#_experimental000020">Experimental classes:</a></b></dt><dd>This tool is work in progress and usage and input requirements might change.</dd></dl>
<center> <table class="doxtable">
<tr>
<td align="center" bgcolor="#EBEBEB">pot. predecessor tools  </td><td valign="middle" rowspan="2"><img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> <a class="el" href="a11921.html">Epifany</a> <img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> </td><td align="center" bgcolor="#EBEBEB">pot. successor tools   </td></tr>
<tr>
<td valign="middle" align="center" rowspan="1"><a class="el" href="a16331.html">PercolatorAdapter</a>  </td><td valign="middle" align="center" rowspan="1"><a class="el" href="a16292.html">IDFilter</a>   </td></tr>
<tr>
<td valign="middle" align="center" rowspan="1"><a class="el" href="a16295.html">IDPosteriorErrorProbability</a>   </td></tr>
</table>
</center> <p>It is a protein inference engine based on a Bayesian network. Currently the same model like Fido is used with the main parameters alpha (pep_emission), beta (pep_spurious_emission) and gamma (prot_prior). If not specified, these parameters are trained based on their classification performance and calibration via a grid search by simply running with several possible combinations and evaluating. Unless you see very extreme output probabilities (e.g. many close to 1.0) or you know good parameters (e.g. from an earlier run), grid search is recommended although slower. The tool will merge multiple idXML files (union of proteins and concatenation of PSMs) when given more than one. It assumes one search engine run per input file but might work on more. Proteins need to be indexed by <a class="el" href="a05822.html" title="Main OpenMS namespace.">OpenMS</a>'s PeptideIndexer but this is usually done before Percolator/IDPEP since target/decoy associations are needed there already. Make sure that the input PSM probabilities are not too extreme already (garbage in - garbage out). After merging the input probabilities are preprocessed with a low posterior probability cutoff to neglect very unreliable matches. Then the probabilities are aggregated with the maximum per peptide and the graph is built and split into connected components. When compiled with the OpenMP flag (default enabled in the release binaries) the tool is multi-threaded which can be activated at runtime by the threads parameter. Note that peak memory requirements may rise significantly when processing multiple components of the graph at the same time. </p>
<p><b>The command line parameters of this tool are:</b> </p><pre class="fragment">

Epifany -- Runs a Bayesian protein inference.

Full documentation: http://www.openms.de/documentation/UTILS_Epifany.html

Version: 2.4.0-HEAD-2019-12-09 Dec  9 2019, 13:47:09, Revision: af8a11e

To cite OpenMS:

  Rost HL, Sachsenberg T, Aiche S, Bielow C et al.. OpenMS: a flexible open-source software platform for mass spectrometry data analysis. Nat Meth. 2016; 13, 9: 741-748. doi:10.1038/nmeth.3959.



Usage:

  Epifany &lt;options&gt;



This tool has algorithm parameters that are not shown here! Please check the ini file for a detailed descript

ion or use the --helphelp option.



Options (mandatory options marked with '*'):

  -in &lt;file&gt;*                            Input: identification results (valid formats: 'idXML')

  -out &lt;file&gt;*                           Output: identification results with scored/grouped proteins (valid 

                                         formats: 'idXML')

  -protein_fdr &lt;option&gt;                  Additionally calculate the target-decoy FDR on protein-level based 

                                         on the posteriors (default: 'false' valid: 'true', 'false')

  -greedy_group_resolution &lt;option&gt;      Post-process inference output with greedy resolution of shared pepti

                                         des based on the parent protein probabilities. Also adds the resolve

                                         d ambiguity groups to output. (default: 'none' valid: 'none', 'remov

                                         e_associations_only', 'remove_proteins_wo_evidence')

  -max_psms_extreme_probability &lt;float&gt;  Set PSMs with probability higher than this to this maximum probabili

                                         ty. (default: '1.0')

                                         

                                         

Common UTIL options:

  -ini &lt;file&gt;                            Use the given TOPP INI file

  -threads &lt;n&gt;                           Sets the number of threads allowed to be used by the TOPP tool (defa

                                         ult: '1')

  -write_ini &lt;file&gt;                      Writes the default configuration file

  --help                                 Shows options

  --helphelp                             Shows all options (including advanced)



The following configuration subsections are valid:

 - algorithm   Parameters for the Algorithm section



You can write an example INI file using the '-write_ini' option.

Documentation of subsection parameters can be found in the doxygen documentation or the INIFileEditor.

For more information, please consult the online documentation for this tool:

  - http://www.openms.de/documentation/UTILS_Epifany.html



</pre><p> <b>INI file documentation of this tool:</b> <div class="ini_global">
<div class="legend">
<b>Legend:</b><br>
 <div class="item item_required">required parameter</div>
 <div class="item item_advanced">advanced parameter</div>
</div>
  <div class="node"><span class="node_name">+Epifany</span><span class="node_description">Runs a Bayesian protein inference.</span></div>
    <div class="item item_advanced"><span class="item_name" style="padding-left:16px;">version</span><span class="item_value">2.4.0-HEAD-2019-12-09</span>
<span class="item_description">Version of the tool that generated this parameters file.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>    <div class="node"><span class="node_name">++1</span><span class="node_description">Instance '1' section for 'Epifany'</span></div>
      <div class="item"><span class="item_name item_required" style="padding-left:24px;">in</span><span class="item_value">[]</span>
<span class="item_description">Input: identification results</span><span class="item_tags">input file</span><span class="item_restrictions">*.idXML</span></div>      <div class="item"><span class="item_name item_required" style="padding-left:24px;">out</span><span class="item_value"></span>
<span class="item_description">Output: identification results with scored/grouped proteins</span><span class="item_tags">output file</span><span class="item_restrictions">*.idXML</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">protein_fdr</span><span class="item_value">false</span>
<span class="item_description">Additionally calculate the target-decoy FDR on protein-level based on the posteriors</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">conservative_fdr</span><span class="item_value">true</span>
<span class="item_description">Use (D+1)/(T) instead of (D+1)/(T+D) for reporting protein FDRs.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">greedy_group_resolution</span><span class="item_value">none</span>
<span class="item_description">Post-process inference output with greedy resolution of shared peptides based on the parent protein probabilities. Also adds the resolved ambiguity groups to output.</span><span class="item_tags"></span><span class="item_restrictions">none,remove_associations_only,remove_proteins_wo_evidence</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">min_psms_extreme_probability</span><span class="item_value">0.0</span>
<span class="item_description">Set PSMs with probability lower than this to this minimum probability.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">max_psms_extreme_probability</span><span class="item_value">1.0</span>
<span class="item_description">Set PSMs with probability higher than this to this maximum probability.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">log</span><span class="item_value"></span>
<span class="item_description">Name of log file (created only when specified)</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">debug</span><span class="item_value">0</span>
<span class="item_description">Sets the debug level</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">threads</span><span class="item_value">1</span>
<span class="item_description">Sets the number of threads allowed to be used by the TOPP tool</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">no_progress</span><span class="item_value">false</span>
<span class="item_description">Disables progress logging to command line</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">force</span><span class="item_value">false</span>
<span class="item_description">Overwrite tool specific checks.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">test</span><span class="item_value">false</span>
<span class="item_description">Enables the test mode (needed for internal use only)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++algorithm</span><span class="node_description">Parameters for the Algorithm section</span></div>
        <div class="item"><span class="item_name" style="padding-left:32px;">psm_probability_cutoff</span><span class="item_value">0.001</span>
<span class="item_description">Remove PSMs with probabilities less than or equal this cutoff</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">top_PSMs</span><span class="item_value">1</span>
<span class="item_description">Consider only top X PSMs per spectrum. 0 considers all.</span><span class="item_tags"></span><span class="item_restrictions">0:&#8734;</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">update_PSM_probabilities</span><span class="item_value">true</span>
<span class="item_description">(Experimental:) Update PSM probabilities with their posteriors under consideration of the protein probabilities.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">user_defined_priors</span><span class="item_value">false</span>
<span class="item_description">(Experimental:) Uses the current protein scores as user-defined priors.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">annotate_group_probabilities</span><span class="item_value">true</span>
<span class="item_description">Annotates group probabilities for indistinguishable protein groups (indistinguishable by experimentally observed PSMs).</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">use_ids_outside_features</span><span class="item_value">false</span>
<span class="item_description">(Only consensusXML) Also use IDs without associated features for inference?</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="node"><span class="node_name">++++model_parameters</span><span class="node_description">Model parameters for the Bayesian network</span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">prot_prior</span><span class="item_value">-1.0</span>
<span class="item_description">Protein prior probability ('gamma' parameter). Negative values enable grid search for this param.</span><span class="item_tags"></span><span class="item_restrictions">-1.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">pep_emission</span><span class="item_value">-1.0</span>
<span class="item_description">Peptide emission probability ('alpha' parameter). Negative values enable grid search for this param.</span><span class="item_tags"></span><span class="item_restrictions">-1.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">pep_spurious_emission</span><span class="item_value">-1.0</span>
<span class="item_description">Spurious peptide identification probability ('beta' parameter). Usually much smaller than emission from proteins. Negative values enable grid search for this param.</span><span class="item_tags"></span><span class="item_restrictions">-1.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">pep_prior</span><span class="item_value">0.1</span>
<span class="item_description">Peptide prior probability (experimental, should be covered by combinations of the other params).</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">regularize</span><span class="item_value">false</span>
<span class="item_description">Regularize the number of proteins that produce a peptide together (experimental, should be activated when using higher p-norms).</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">extended_model</span><span class="item_value">false</span>
<span class="item_description">Uses information from different peptidoforms also across runs (automatically activated if an experimental design is given!)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="node"><span class="node_name">++++loopy_belief_propagation</span><span class="node_description">Settings for the loopy belief propagation algorithm.</span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">scheduling_type</span><span class="item_value">priority</span>
<span class="item_description">(Not used yet) How to pick the next message: priority = based on difference to last message (higher = more important). fifo = first in first out. random_spanning_tree = message passing follows a random spanning tree in each iteration</span><span class="item_tags"></span><span class="item_restrictions">priority,fifo,random_spanning_tree</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">convergence_threshold</span><span class="item_value">1.0e-05</span>
<span class="item_description">Initial threshold under which MSE difference a message is considered to be converged.</span><span class="item_tags"></span><span class="item_restrictions">1.0e-09:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">dampening_lambda</span><span class="item_value">0.001</span>
<span class="item_description">Initial value for how strongly should messages be updated in each step. 0 = new message overwrites old completely (no dampening; only recommended for trees),0.5 = equal contribution of old and new message (stay below that),In-between it will be a convex combination of both. Prevents oscillations but hinders convergence.</span><span class="item_tags"></span><span class="item_restrictions">0.0:0.49999</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">max_nr_iterations</span><span class="item_value">2147483647</span>
<span class="item_description">(Unused, autodetermined) If not all messages converge, how many iterations should be done at max?</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">p_norm_inference</span><span class="item_value">1.0</span>
<span class="item_description">P-norm used for marginalization of multidimensional factors. 1 == sum-product inference (all configurations vote equally) (default),<= 0 == infinity = max-product inference (only best configurations propagate)The higher the value the more important high probability configurations get.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>        <div class="node"><span class="node_name">++++param_optimize</span><span class="node_description">Settings for the parameter optimization.</span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">aucweight</span><span class="item_value">0.3</span>
<span class="item_description">How important is AUC vs calibration of the posteriors? 0 = maximize calibration only, 1 = maximize AUC only, between = convex combination.</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">conservative_fdr</span><span class="item_value">true</span>
<span class="item_description">Use (D+1)/(T) instead of (D+1)/(T+D) for parameter estimation.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:29 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
