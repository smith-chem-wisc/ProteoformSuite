<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: FeatureLinkerUnlabeledKD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16240.html">TOPP documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FeatureLinkerUnlabeledKD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Group corresponding features across labelfree experiments.</p>
<p>Group corresponding features across labelfree experiments. This tool produces results similar to those of FeatureLinkerUnlabeledQT, since it optimizes a similar objective. However, this algorithm is more efficient than FLQT as it uses a kd-tree for fast 2D region queries in m/z - RT space and a sorted binary search tree to choose the best cluster among the remaining ones in O(1). Insertion and searching in this tree have O(log n) runtime. KD-tree insertion and search have O(log n) runtime. The overall complexity of the algorithm is O(n log(n)) time and O(n) space.</p>
<p>In practice, the runtime of FeatureLinkerUnlabeledQT is often not significantly worse than that of FeatureLinkerUnlabeledKD if the datasets are relatively small and/or the value of the -nr_partitions parameter is chosen large enough. If, however, the datasets are very large, and especially if they are so dense that a partitioning based on the specified m/z tolerance is not possible anymore, then this algorithm becomes orders of magnitudes faster than FLQT.</p>
<p>Notably, this algorithm can be used to align featureXML files containing unassembled mass traces (as produced by MassTraceExtractor), which is often impossible for reasonably large datasets using other aligners, as these datasets tend to be too dense and hence cannot be partitioned.</p>
<p>Prior to feature linking, this tool performs an (optional) retention time transformation on the features using LOWESS regression in order to minimize retention time differences between corresponding features across different maps. These transformed RTs are used only internally. In the results, original RTs will be reported.</p>
<p>The linking behavior can be influenced by separately specifying how to use the available charge and adduct information. Options allow to restrict linking to features with the same adduct/charge (or lack thereof, i.e. features with charge zero or no adduct annotation), additionally allowing the linking of charged/adduct-annotated features with those having no charge/adduct information, or allowing all features to be linked irrespective of charge state/adduct information.</p>
<p>Note that the more relaxed the allowed grouping criteria, the larger internally used connected components memory-wise. More stringent m/z or retention time tolerances might be required then.</p>
<p><b>The command line parameters of this tool are:</b> </p><pre class="fragment">

FeatureLinkerUnlabeledKD -- Groups corresponding features from multiple maps.

Full documentation: http://www.openms.de/documentation/TOPP_FeatureLinkerUnlabeledKD.html

Version: 2.4.0-HEAD-2019-12-09 Dec  9 2019, 13:47:09, Revision: af8a11e

To cite OpenMS:

  Rost HL, Sachsenberg T, Aiche S, Bielow C et al.. OpenMS: a flexible open-source software platform for mass spectrometry data analysis. Nat Meth. 2016; 13, 9: 741-748. doi:10.1038/nmeth.3959.



Usage:

  FeatureLinkerUnlabeledKD &lt;options&gt;



This tool has algorithm parameters that are not shown here! Please check the ini file for a detailed descript

ion or use the --helphelp option.



Options (mandatory options marked with '*'):

  -in &lt;files&gt;*        Input files separated by blanks (valid formats: 'featureXML', 'consensusXML')

  -out &lt;file&gt;*        Output file (valid formats: 'consensusXML')

  -design &lt;file&gt;      Input file containing the experimental design (valid formats: 'tsv')

                      

  -keep_subelements   For consensusXML input only: If set, the sub-features of the inputs are transferred to 

                      the output.

                      

Common TOPP options:

  -ini &lt;file&gt;         Use the given TOPP INI file

  -threads &lt;n&gt;        Sets the number of threads allowed to be used by the TOPP tool (default: '1')

  -write_ini &lt;file&gt;   Writes the default configuration file

  --help              Shows options

  --helphelp          Shows all options (including advanced)



The following configuration subsections are valid:

 - algorithm   Algorithm parameters section



You can write an example INI file using the '-write_ini' option.

Documentation of subsection parameters can be found in the doxygen documentation or the INIFileEditor.

For more information, please consult the online documentation for this tool:

  - http://www.openms.de/documentation/TOPP_FeatureLinkerUnlabeledKD.html



</pre><p> <b>INI file documentation of this tool:</b> <div class="ini_global">
<div class="legend">
<b>Legend:</b><br>
 <div class="item item_required">required parameter</div>
 <div class="item item_advanced">advanced parameter</div>
</div>
  <div class="node"><span class="node_name">+FeatureLinkerUnlabeledKD</span><span class="node_description">Groups corresponding features from multiple maps.</span></div>
    <div class="item item_advanced"><span class="item_name" style="padding-left:16px;">version</span><span class="item_value">2.4.0-HEAD-2019-12-09</span>
<span class="item_description">Version of the tool that generated this parameters file.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>    <div class="node"><span class="node_name">++1</span><span class="node_description">Instance '1' section for 'FeatureLinkerUnlabeledKD'</span></div>
      <div class="item"><span class="item_name item_required" style="padding-left:24px;">in</span><span class="item_value">[]</span>
<span class="item_description">input files separated by blanks</span><span class="item_tags">input file</span><span class="item_restrictions">*.featureXML,*.consensusXML</span></div>      <div class="item"><span class="item_name item_required" style="padding-left:24px;">out</span><span class="item_value"></span>
<span class="item_description">Output file</span><span class="item_tags">output file</span><span class="item_restrictions">*.consensusXML</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">design</span><span class="item_value"></span>
<span class="item_description">input file containing the experimental design</span><span class="item_tags">input file</span><span class="item_restrictions">*.tsv</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">keep_subelements</span><span class="item_value">false</span>
<span class="item_description">For consensusXML input only: If set, the sub-features of the inputs are transferred to the output.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">log</span><span class="item_value"></span>
<span class="item_description">Name of log file (created only when specified)</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">debug</span><span class="item_value">0</span>
<span class="item_description">Sets the debug level</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">threads</span><span class="item_value">1</span>
<span class="item_description">Sets the number of threads allowed to be used by the TOPP tool</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">no_progress</span><span class="item_value">false</span>
<span class="item_description">Disables progress logging to command line</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">force</span><span class="item_value">false</span>
<span class="item_description">Overwrite tool specific checks.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">test</span><span class="item_value">false</span>
<span class="item_description">Enables the test mode (needed for internal use only)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++algorithm</span><span class="node_description">Algorithm parameters section</span></div>
        <div class="item"><span class="item_name" style="padding-left:32px;">mz_unit</span><span class="item_value">ppm</span>
<span class="item_description">Unit of m/z tolerance</span><span class="item_tags"></span><span class="item_restrictions">ppm,Da</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">nr_partitions</span><span class="item_value">100</span>
<span class="item_description">Number of partitions in m/z space</span><span class="item_tags"></span><span class="item_restrictions">1:&#8734;</span></div>        <div class="node"><span class="node_name">++++warp</span><span class="node_description"></span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">enabled</span><span class="item_value">true</span>
<span class="item_description">Whether or not to internally warp feature RTs using LOWESS transformation before linking (reported RTs in results will always be the original RTs)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">rt_tol</span><span class="item_value">100.0</span>
<span class="item_description">Width of RT tolerance window (sec)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">mz_tol</span><span class="item_value">5.0</span>
<span class="item_description">m/z tolerance (in ppm or Da)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">max_pairwise_log_fc</span><span class="item_value">0.5</span>
<span class="item_description">Maximum absolute log10 fold change between two compatible signals during compatibility graph construction. Two signals from different maps will not be connected by an edge in the compatibility graph if absolute log fold change exceeds this limit (they might still end up in the same connected component, however). Note: this does not limit fold changes in the linking stage, only during RT alignment, where we try to find high-quality alignment anchor points. Setting this to a value < 0 disables the FC check.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">min_rel_cc_size</span><span class="item_value">0.5</span>
<span class="item_description">Only connected components containing compatible features from at least max(2, (warp_min_occur * number_of_input_maps)) input maps are considered for computing the warping function</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">max_nr_conflicts</span><span class="item_value">0</span>
<span class="item_description">Allow up to this many conflicts (features from the same map) per connected component to be used for alignment (-1 means allow any number of conflicts)</span><span class="item_tags"></span><span class="item_restrictions">-1:&#8734;</span></div>        <div class="node"><span class="node_name">++++link</span><span class="node_description"></span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">rt_tol</span><span class="item_value">30.0</span>
<span class="item_description">Width of RT tolerance window (sec)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">mz_tol</span><span class="item_value">10.0</span>
<span class="item_description">m/z tolerance (in ppm or Da)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">charge_merging</span><span class="item_value">With_charge_zero</span>
<span class="item_description">whether to disallow charge mismatches (Identical), allow to link charge zero (i.e., unknown charge state) with every charge state, or disregard charges (Any).</span><span class="item_tags"></span><span class="item_restrictions">Identical,With_charge_zero,Any</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">adduct_merging</span><span class="item_value">Any</span>
<span class="item_description">whether to only allow the same adduct for linking (Identical), also allow linking features with adduct-free ones, or disregard adducts (Any).</span><span class="item_tags"></span><span class="item_restrictions">Identical,With_unknown_adducts,Any</span></div>        <div class="node"><span class="node_name">++++distance_RT</span><span class="node_description">Distance component based on RT differences</span></div>
          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">exponent</span><span class="item_value">1.0</span>
<span class="item_description">Normalized RT differences ([0-1], relative to 'max_difference') are raised to this power (using 1 or 2 will be fast, everything else is REALLY slow)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">weight</span><span class="item_value">1.0</span>
<span class="item_description">Final RT distances are weighted by this factor</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>        <div class="node"><span class="node_name">++++distance_MZ</span><span class="node_description">Distance component based on m/z differences</span></div>
          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">exponent</span><span class="item_value">2.0</span>
<span class="item_description">Normalized ([0-1], relative to 'max_difference') m/z differences are raised to this power (using 1 or 2 will be fast, everything else is REALLY slow)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">weight</span><span class="item_value">1.0</span>
<span class="item_description">Final m/z distances are weighted by this factor</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>        <div class="node"><span class="node_name">++++distance_intensity</span><span class="node_description">Distance component based on differences in relative intensity (usually relative to highest peak in the whole data set)</span></div>
          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">exponent</span><span class="item_value">1.0</span>
<span class="item_description">Differences in relative intensity ([0-1]) are raised to this power (using 1 or 2 will be fast, everything else is REALLY slow)</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">weight</span><span class="item_value">1.0</span>
<span class="item_description">Final intensity distances are weighted by this factor</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">log_transform</span><span class="item_value">enabled</span>
<span class="item_description">Log-transform intensities? If disabled, d = |int_f2 - int_f1| / int_max. If enabled, d = |log(int_f2 + 1) - log(int_f1 + 1)| / log(int_max + 1))</span><span class="item_tags"></span><span class="item_restrictions">enabled,disabled</span></div>        <div class="node"><span class="node_name">++++LOWESS</span><span class="node_description">LOWESS parameters for internal RT transformations (only relevant if 'warp:enabled' is set to 'true')</span></div>
          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">span</span><span class="item_value">0.666666666666667</span>
<span class="item_description">Fraction of datapoints (f) to use for each local regression (determines the amount of smoothing). Choosing this parameter in the range .2 to .8 usually results in a good fit.</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">num_iterations</span><span class="item_value">3</span>
<span class="item_description">Number of robustifying iterations for lowess fitting.</span><span class="item_tags"></span><span class="item_restrictions">0:&#8734;</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">delta</span><span class="item_value">-1.0</span>
<span class="item_description">Nonnegative parameter which may be used to save computations (recommended value is 0.01 of the range of the input, e.g. for data ranging from 1000 seconds to 2000 seconds, it could be set to 10). Setting a negative value will automatically do this.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">interpolation_type</span><span class="item_value">cspline</span>
<span class="item_description">Method to use for interpolation between datapoints computed by lowess. 'linear': Linear interpolation. 'cspline': Use the cubic spline for interpolation. 'akima': Use an akima spline for interpolation</span><span class="item_tags"></span><span class="item_restrictions">linear,cspline,akima</span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">extrapolation_type</span><span class="item_value">four-point-linear</span>
<span class="item_description">Method to use for extrapolation outside the data range. 'two-point-linear': Uses a line through the first and last point to extrapolate. 'four-point-linear': Uses a line through the first and second point to extrapolate in front and and a line through the last and second-to-last point in the end. 'global-linear': Uses a linear regression to fit a line through all data points and use it for interpolation.</span><span class="item_tags"></span><span class="item_restrictions">two-point-linear,four-point-linear,global-linear</span></div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:28 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
