<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16243.html">UTILS documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><p>Decharges a feature map by clustering charge variants of metabolites to zero-charge entities.</p>
<center> <table class="doxtable">
<tr>
<td align="center" bgcolor="#EBEBEB">pot. predecessor tools  </td><td valign="middle" rowspan="2"><img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> MetaboliteAdductDecharger <img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> </td><td align="center" bgcolor="#EBEBEB">pot. successor tools   </td></tr>
<tr>
<td valign="middle" align="center" rowspan="1"><a class="el" href="a16274.html">FeatureFinderMetabo</a>   </td></tr>
</table>
</center><p>The Decharger uses an ILP approach to group charge variants of the same metabolite, which usually occur in ESI ionization mode. The resulting zero-charge metabolites, which are defined by RT and mass, are written to consensusXML. Intensities of charge variants are summed up. The position of the zero charge variant is the average of all clustered metabolites in each dimension (m and RT). For clustered metabolites, the reported m/z is thus their neutral mass. For unclusted features with known charge, a default adduct (protonation for positive mode, deprotonation for negative mode) is assumed to compute the neutral mass. For unclustered features without known charge, m/z zero is reported. It is also possible to include adducted species to the charge ladders (see 'potential_adducts' parameter). Via this mechanism it is also possible to use this tool to find pairs/triples/quadruples/... in labeled data (by specifing the mass tag weight as an adduct). If mass tags induce an RT shift (e.g. deuterium labeled data) you can also specify this also in the adduct list. This will allow to tighten the RT search window, thus reducing false positive results.</p>
<p>This tool is derived from the method described in the following publication:</p>
<p>Bielow C, Ruzek S, Huber CG, Reinert K. Optimal decharging and clustering of charge ladders generated in ESI-MS. J Proteome Res 2010; 9: 2688.<br  />
 DOI: 10.1021/pr100177k</p>
<p><b>The command line parameters of this tool are:</b> </p><pre class="fragment">

MetaboliteAdductDecharger -- Decharges and merges different feature charge variants of the same metabolite.

Full documentation: http://www.openms.de/documentation/UTILS_MetaboliteAdductDecharger.html

Version: 2.4.0-HEAD-2019-12-09 Dec  9 2019, 13:47:09, Revision: af8a11e

To cite OpenMS:

  Rost HL, Sachsenberg T, Aiche S, Bielow C et al.. OpenMS: a flexible open-source software platform for mass spectrometry data analysis. Nat Meth. 2016; 13, 9: 741-748. doi:10.1038/nmeth.3959.



Usage:

  MetaboliteAdductDecharger &lt;options&gt;



This tool has algorithm parameters that are not shown here! Please check the ini file for a detailed descript

ion or use the --helphelp option.



Options (mandatory options marked with '*'):

  -in &lt;file&gt;*        Input file  (valid formats: 'featureXML')

  -out_cm &lt;file&gt;     Output consensus map (valid formats: 'consensusXML')

  -out_fm &lt;file&gt;     Output feature map (valid formats: 'featureXML')

  -outpairs &lt;file&gt;   Output file (valid formats: 'consensusXML')

                     

                     

Common UTIL options:

  -ini &lt;file&gt;        Use the given TOPP INI file

  -threads &lt;n&gt;       Sets the number of threads allowed to be used by the TOPP tool (default: '1')

  -write_ini &lt;file&gt;  Writes the default configuration file

  --help             Shows options

  --helphelp         Shows all options (including advanced)



The following configuration subsections are valid:

 - algorithm   Feature decharging algorithm section



You can write an example INI file using the '-write_ini' option.

Documentation of subsection parameters can be found in the doxygen documentation or the INIFileEditor.

For more information, please consult the online documentation for this tool:

  - http://www.openms.de/documentation/UTILS_MetaboliteAdductDecharger.html



</pre><p> <b>INI file documentation of this tool:</b> <div class="ini_global">
<div class="legend">
<b>Legend:</b><br>
 <div class="item item_required">required parameter</div>
 <div class="item item_advanced">advanced parameter</div>
</div>
  <div class="node"><span class="node_name">+MetaboliteAdductDecharger</span><span class="node_description">Decharges and merges different feature charge variants of the same metabolite.</span></div>
    <div class="item item_advanced"><span class="item_name" style="padding-left:16px;">version</span><span class="item_value">2.4.0-HEAD-2019-12-09</span>
<span class="item_description">Version of the tool that generated this parameters file.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>    <div class="node"><span class="node_name">++1</span><span class="node_description">Instance '1' section for 'MetaboliteAdductDecharger'</span></div>
      <div class="item"><span class="item_name item_required" style="padding-left:24px;">in</span><span class="item_value"></span>
<span class="item_description">input file </span><span class="item_tags">input file</span><span class="item_restrictions">*.featureXML</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">out_cm</span><span class="item_value"></span>
<span class="item_description">output consensus map</span><span class="item_tags">output file</span><span class="item_restrictions">*.consensusXML</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">out_fm</span><span class="item_value"></span>
<span class="item_description">output feature map</span><span class="item_tags">output file</span><span class="item_restrictions">*.featureXML</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">outpairs</span><span class="item_value"></span>
<span class="item_description">output file</span><span class="item_tags">output file</span><span class="item_restrictions">*.consensusXML</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">log</span><span class="item_value"></span>
<span class="item_description">Name of log file (created only when specified)</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">debug</span><span class="item_value">0</span>
<span class="item_description">Sets the debug level</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">threads</span><span class="item_value">1</span>
<span class="item_description">Sets the number of threads allowed to be used by the TOPP tool</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">no_progress</span><span class="item_value">false</span>
<span class="item_description">Disables progress logging to command line</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">force</span><span class="item_value">false</span>
<span class="item_description">Overwrite tool specific checks.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">test</span><span class="item_value">false</span>
<span class="item_description">Enables the test mode (needed for internal use only)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++algorithm</span><span class="node_description">Feature decharging algorithm section</span></div>
        <div class="node"><span class="node_name">++++MetaboliteFeatureDeconvolution</span><span class="node_description"></span></div>
          <div class="item"><span class="item_name" style="padding-left:40px;">charge_min</span><span class="item_value">1</span>
<span class="item_description">Minimal possible charge</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">charge_max</span><span class="item_value">3</span>
<span class="item_description">Maximal possible charge</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">charge_span_max</span><span class="item_value">3</span>
<span class="item_description">Maximal range of charges for a single analyte, i.e. observing q1=[5,6,7] implies span=3. Setting this to 1 will only find adduct variants of the same charge</span><span class="item_tags"></span><span class="item_restrictions">1:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">q_try</span><span class="item_value">feature</span>
<span class="item_description">Try different values of charge for each feature according to the above settings ('heuristic' [does not test all charges, just the likely ones] or 'all' ), or leave feature charge untouched ('feature').</span><span class="item_tags"></span><span class="item_restrictions">feature,heuristic,all</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">retention_max_diff</span><span class="item_value">1.0</span>
<span class="item_description">Maximum allowed RT difference between any two features if their relation shall be determined</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">retention_max_diff_local</span><span class="item_value">1.0</span>
<span class="item_description">Maximum allowed RT difference between between two co-features, after adduct shifts have been accounted for (if you do not have any adduct shifts, this value should be equal to 'retention_max_diff', otherwise it should be smaller!)</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">mass_max_diff</span><span class="item_value">0.05</span>
<span class="item_description">Maximum allowed mass tolerance per feature. Defines a symmetric tolerance window around the feature. When looking at possible feature pairs, the allowed feature-wise errors are combined for consideration of possible adduct shifts. For ppm tolerances, each window is based on the respective observed feature mz (instead of putative experimental mzs causing the observed one)!</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">unit</span><span class="item_value">Da</span>
<span class="item_description">Unit of the 'max_difference' parameter</span><span class="item_tags"></span><span class="item_restrictions">Da,ppm</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">potential_adducts</span><span class="item_value">[H:+:0.4, Na:+:0.25, NH4:+:0.25, K:+:0.1, H-2O-1:0:0.05]</span>
<span class="item_description">Adducts used to explain mass differences in format: 'Elements:Charge(+/-/0):Probability[:RTShift[:Label]]', i.e. the number of '+' or '-' indicate the charge ('0' if neutral adduct), e.g. 'Ca:++:0.5' indicates +2. Probabilites have to be in (0,1]. The optional RTShift param indicates the expected RT shift caused by this adduct, e.g. '(2)H4H-4:0:1:-3' indicates a 4 deuterium label, which causes early elution by 3 seconds. As fifth parameter you can add a label for every feature with this adduct. This also determines the map number in the consensus file. Adduct element losses are written in the form 'H-2'. All provided adducts need to have the same charge sign or be neutral! Mixing of adducts with different charge directions is only allowed as neutral complexes. For example, 'H-1Na:0:0.05' can be used to model Sodium gains (with balancing deprotonation) in negative mode.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">max_neutrals</span><span class="item_value">1</span>
<span class="item_description">Maximal number of neutral adducts(q=0) allowed. Add them in the 'potential_adducts' section!</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">use_minority_bound</span><span class="item_value">true</span>
<span class="item_description">Prune the considered adduct transitions by transition probabilities.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">max_minority_bound</span><span class="item_value">3</span>
<span class="item_description">Limits allowed adduct compositions and changes between compositions in the underlying graph optimization problem by introducing a probability-based threshold: the minority bound sets the maximum count of the least probable adduct (according to 'potential_adducts' param) within a charge variant with maximum charge only containing the most likely adduct otherwise. E.g., for 'charge_max' 4 and 'max_minority_bound' 2 with most probable adduct being H+ and least probable adduct being Na+, this will allow adduct compositions of '2(H+),2(Na+)' but not of '1(H+),3(Na+)'. Further, adduct compositions/changes less likely than '2(H+),2(Na+)' will be discarded as well.</span><span class="item_tags"></span><span class="item_restrictions">0:&#8734;</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">min_rt_overlap</span><span class="item_value">0.66</span>
<span class="item_description">Minimum overlap of the convex hull' RT intersection measured against the union from two features (if CHs are given)</span><span class="item_tags"></span><span class="item_restrictions">0.0:1.0</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">intensity_filter</span><span class="item_value">false</span>
<span class="item_description">Enable the intensity filter, which will only allow edges between two equally charged features if the intensity of the feature with less likely adducts is smaller than that of the other feature. It is not used for features of different charge.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>          <div class="item"><span class="item_name" style="padding-left:40px;">negative_mode</span><span class="item_value">false</span>
<span class="item_description">Enable negative ionization mode.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">default_map_label</span><span class="item_value">decharged features</span>
<span class="item_description">Label of map in output consensus file where all features are put by default</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>          <div class="item item_advanced"><span class="item_name" style="padding-left:40px;">verbose_level</span><span class="item_value">0</span>
<span class="item_description">Amount of debug information given during processing.</span><span class="item_tags"></span><span class="item_restrictions">0:3</span></div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:29 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
