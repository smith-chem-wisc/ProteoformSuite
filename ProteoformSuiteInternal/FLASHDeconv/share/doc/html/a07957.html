<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: IsoSpecThresholdWrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a05822.html">OpenMS</a></li><li class="navelem"><a class="el" href="a07957.html">IsoSpecThresholdWrapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a07954.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IsoSpecThresholdWrapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A non-generator version of <a class="el" href="a07945.html" title="Provides a threshold-based generator of isotopologues: generates all isotopologues more probable than...">IsoSpecThresholdGeneratorWrapper</a>.  
 <a href="a07957.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a03296_source.html">OpenMS/CHEMISTRY/ISOTOPEDISTRIBUTION/IsoSpecWrapper.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IsoSpecThresholdWrapper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a07957.png" usemap="#IsoSpecThresholdWrapper_map" alt=""/>
  <map id="IsoSpecThresholdWrapper_map" name="IsoSpecThresholdWrapper_map">
<area href="a07937.html" title="A convenience class for the IsoSpec algorithm - easier to use than the IsoSpecGeneratorWrapper classe..." alt="IsoSpecWrapper" shape="rect" coords="0,0,162,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ba289a077640e808cb255c2d277743d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07957.html#a0ba289a077640e808cb255c2d277743d">IsoSpecThresholdWrapper</a> (const std::vector&lt; <a class="el" href="a00001.html#a12329">int</a> &gt; &amp;isotopeNumbers, const std::vector&lt; <a class="el" href="a00001.html#a12329">int</a> &gt; &amp;atomCounts, const std::vector&lt; std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &gt; &amp;isotopeMasses, const std::vector&lt; std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &gt; &amp;isotopeProbabilities, <a class="el" href="a00001.html#a12109">double</a> threshold, bool absolute)</td></tr>
<tr class="memdesc:a0ba289a077640e808cb255c2d277743d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="a07957.html#a0ba289a077640e808cb255c2d277743d">More...</a><br /></td></tr>
<tr class="separator:a0ba289a077640e808cb255c2d277743d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4acc3678dc5ddd9a549407c11499325"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07957.html#ab4acc3678dc5ddd9a549407c11499325">IsoSpecThresholdWrapper</a> (const <a class="el" href="a07905.html">EmpiricalFormula</a> &amp;formula, <a class="el" href="a00001.html#a12109">double</a> threshold, bool absolute)</td></tr>
<tr class="memdesc:ab4acc3678dc5ddd9a549407c11499325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the algorithm to run on an <a class="el" href="a07905.html" title="Representation of an empirical formula.">EmpiricalFormula</a>.  <a href="a07957.html#ab4acc3678dc5ddd9a549407c11499325">More...</a><br /></td></tr>
<tr class="separator:ab4acc3678dc5ddd9a549407c11499325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18455fdf2d35f891bc2f05e457ea3ddf"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="a07961.html">IsotopeDistribution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07957.html#a18455fdf2d35f891bc2f05e457ea3ddf">run</a> () override final</td></tr>
<tr class="memdesc:a18455fdf2d35f891bc2f05e457ea3ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the algorithm.  <a href="a07957.html#a18455fdf2d35f891bc2f05e457ea3ddf">More...</a><br /></td></tr>
<tr class="separator:a18455fdf2d35f891bc2f05e457ea3ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a07937"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a07937')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a07937.html">IsoSpecWrapper</a></td></tr>
<tr class="memitem:a988a86e8a4bfd894de20a7f4039d1a33 inherit pub_methods_a07937"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07937.html#a988a86e8a4bfd894de20a7f4039d1a33">~IsoSpecWrapper</a> ()</td></tr>
<tr class="separator:a988a86e8a4bfd894de20a7f4039d1a33 inherit pub_methods_a07937"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a910582dfae1399e8d33939db49531304"><td class="memItemLeft" align="right" valign="top">IsoSpec::IsoThresholdGenerator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a07957.html#a910582dfae1399e8d33939db49531304">ITG</a></td></tr>
<tr class="separator:a910582dfae1399e8d33939db49531304"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A non-generator version of <a class="el" href="a07945.html" title="Provides a threshold-based generator of isotopologues: generates all isotopologues more probable than...">IsoSpecThresholdGeneratorWrapper</a>. </p>
<p>This is the simplest algorithm - most users will however want to use <a class="el" href="a07953.html" title="Create a p-set of configurations for a given p (that is, a set of configurations such that their prob...">IsoSpecTotalProbWrapper</a>. The reason for it is that when thresholding by peak intensity one has no idea how far the obtained spectrum is from a real spectrum. For example, consider human insulin: if the threshold is set at 0.1 of the most intense peak, then the peaks above the threshold account for 99.7% of total probability for water, 82% for substance P, only 60% for human insulin, and 23% for titin. For a threshold of 0.01, the numbers will be: still 99.7% for water, 96% for substance P, 88% for human insulin and 72% for titin (it also took 5 minutes on an average notebook computer to process the 17 billion configurations involved).</p>
<p>As you can see the threshold does not have a straightforward correlation to the accuracy of the final spectrum obtained - and accuracy of final spectrum is often what the user is interested in. The IsoSpeTotalcProbGeneratorWrapper provides a way to directly parametrise based on the desired accuracy of the final spectrum - and should be used instead in most cases. The trade-off is that it's (slightly) slower than Threshold algorithm. This speed gap will be dramatically improved with IsoSpec 2.0.</p>
<dl class="section note"><dt>Note</dt><dd>The eligible isotopologues are NOT guaranteed to be generated in any particular order. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0ba289a077640e808cb255c2d277743d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba289a077640e808cb255c2d277743d">&#9670;&nbsp;</a></span>IsoSpecThresholdWrapper() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07957.html">IsoSpecThresholdWrapper</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="a00001.html#a12329">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>isotopeNumbers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="a00001.html#a12329">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>atomCounts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>isotopeMasses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="a00001.html#a12109">double</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>isotopeProbabilities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00001.html#a12109">double</a>&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>absolute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isotopeNumbers</td><td>A vector of how many isotopes each element has, e.g. [2, 2, 3]) </td></tr>
    <tr><td class="paramname">atomCounts</td><td>How many atoms of each we have [e.g. 12, 6, 6 for Glucose] </td></tr>
    <tr><td class="paramname">isotopeMasses</td><td>Array with the individual elements isotopic masses </td></tr>
    <tr><td class="paramname">isotopeProbabilities</td><td>Array with the individual elements isotopic probabilities </td></tr>
    <tr><td class="paramname">threshold</td><td>Intensity threshold: will only compute peaks above this threshold </td></tr>
    <tr><td class="paramname">absolute</td><td>Whether the threshold is absolute or relative (relative to the most intense peak)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This constructor is only useful if you need to define non-standard abundances of isotopes, for other uses the one accepting <a class="el" href="a07905.html" title="Representation of an empirical formula.">EmpiricalFormula</a> is easier to use. </dd></dl>

</div>
</div>
<a id="ab4acc3678dc5ddd9a549407c11499325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4acc3678dc5ddd9a549407c11499325">&#9670;&nbsp;</a></span>IsoSpecThresholdWrapper() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a07957.html">IsoSpecThresholdWrapper</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a07905.html">EmpiricalFormula</a> &amp;&#160;</td>
          <td class="paramname"><em>formula</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00001.html#a12109">double</a>&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>absolute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the algorithm to run on an <a class="el" href="a07905.html" title="Representation of an empirical formula.">EmpiricalFormula</a>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a18455fdf2d35f891bc2f05e457ea3ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18455fdf2d35f891bc2f05e457ea3ddf">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a07961.html">IsotopeDistribution</a> run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the algorithm. </p>
<p>This method will run the algorithm with parameters as set up by the constructor. It will return an <a class="el" href="a07961.html">IsotopeDistribution</a> containing the observed configurations. The configurations are explicitly stored in memory, which may become a problem when considering some especially large distributions. If this, or (a rather small) performance overhead is a concern, then the generator methods (see <a class="el" href="a07933.html" title="Interface for the IsoSpec algorithm - a generator of infinitely-resolved theoretical spectra.">IsoSpecGeneratorWrapper</a>) should be used instead.</p>
<p>This method is provided for convenience. As calling that method invalidates the object (the method should not be called again, nor anything other than destroying the object should be done with it), the most common usage pattern of <a class="el" href="a07933.html" title="Interface for the IsoSpec algorithm - a generator of infinitely-resolved theoretical spectra.">IsoSpecGeneratorWrapper</a> classes with the run method is:</p>
<div class="fragment"><div class="line">IsotopeDistribution dist = IsoSpecGeneratorWrapperSubclass(...).run();</div>
<div class="line"><span class="comment">// do something with dist;</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Calling this method invalidates the object! In future versions this limitation might be removed. </dd></dl>

<p>Implements <a class="el" href="a07937.html#a5842575c796c90f5d2fd3ae95c8da8cb">IsoSpecWrapper</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a910582dfae1399e8d33939db49531304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910582dfae1399e8d33939db49531304">&#9670;&nbsp;</a></span>ITG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IsoSpec::IsoThresholdGenerator ITG</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:44 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
