<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: IDMapper</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16240.html">TOPP documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">IDMapper </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Assigns protein/peptide identifications to features or consensus features.</p>
<center> <table class="doxtable">
<tr>
<td align="center" bgcolor="#EBEBEB">potential predecessor tools  </td><td valign="middle" rowspan="3"><img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> IDMapper <img class="formulaInl" alt="$ \longrightarrow $" src="form_34.png"/> </td><td align="center" bgcolor="#EBEBEB">potential successor tools   </td></tr>
<tr>
<td valign="middle" align="center" rowspan="1"><a class="el" href="a16310.html">MascotAdapter</a> (or other ID engines)  </td><td valign="middle" align="center" rowspan="1"><a class="el" href="a16262.html">ConsensusID</a>   </td></tr>
<tr>
<td valign="middle" align="center" rowspan="1"><a class="el" href="a16292.html">IDFilter</a>  </td><td valign="middle" align="center" rowspan="1"><a class="el" href="a16303.html">MapAlignerIdentification</a>   </td></tr>
</table>
</center><p>The mapping is based on retention times and mass-to-charge values. Roughly, a peptide identification is assigned to a (consensus) feature if its position lies within the boundaries of the feature or close enough to the feature centroid. Peptide identifications that don't match anywhere are still recorded in the resulting map, as "unassigned peptides". Protein identifications are annotated to the whole map, i.e. not to any particular (consensus) feature.</p>
<p>In all cases, tolerance in RT and m/z dimension is applied according to the parameters <code>rt_tolerance</code> and <code>mz_tolerance</code>. Tolerance is understood as "plus or minus x", so the matching range is actually increased by twice the tolerance value.</p>
<p>If several features or consensus features overlap the position of a peptide identification (taking the allowed tolerances into account), the identification is annotated to all of them.</p>
<p><b>Annotation of feature maps (featureXML input):</b><br  />
If <em>all</em> features have at least one convex hull, peptide positions are matched against the bounding boxes of the convex hulls (of individual mass traces, if available) by default. If not, the positions of the feature centroids are used. The respective coordinates of the centroids are also used for matching (in place of the corresponding ranges from the bounding boxes) if <code>feature:use_centroid_rt</code> or <code>feature:use_centroid_mz</code> are true.</p>
<p><b>Annotation of consensus maps (consensusXML input):</b><br  />
Peptide positions are always matched against centroid positions. By default, the consensus centroids are used. However, if <code>consensus:use_subelements</code> is set, the centroids of sub-features are considered instead. In this case, a peptide identification is mapped to a consensus feature if any of its sub-features matches.</p>
<dl class="section note"><dt>Note</dt><dd>Currently mzIdentML (mzid) is not directly supported as an input/output format of this tool. Convert mzid files to/from idXML using <a class="el" href="a16291.html">IDFileConverter</a> if necessary.</dd></dl>
<p><b>The command line parameters of this tool are:</b> </p><pre class="fragment">

IDMapper -- Assigns protein/peptide identifications to features or consensus features.

Full documentation: http://www.openms.de/documentation/TOPP_IDMapper.html

Version: 2.4.0-HEAD-2019-12-09 Dec  9 2019, 13:47:09, Revision: af8a11e

To cite OpenMS:

  Rost HL, Sachsenberg T, Aiche S, Bielow C et al.. OpenMS: a flexible open-source software platform for mass spectrometry data analysis. Nat Meth. 2016; 13, 9: 741-748. doi:10.1038/nmeth.3959.



Usage:

  IDMapper &lt;options&gt;



Options (mandatory options marked with '*'):

  -id &lt;file&gt;*                        Protein/peptide identifications file (valid formats: 'mzid', 'idXML')

  -in &lt;file&gt;*                        Feature map/consensus map file (valid formats: 'featureXML', 'consensusX

                                     ML', 'mzq')

  -out &lt;file&gt;*                       Output file (the format depends on the input file format). (valid format

                                     s: 'featureXML', 'consensusXML', 'mzq')

                                     

  -rt_tolerance &lt;value&gt;              RT tolerance (in seconds) for the matching of peptide identifications 

                                     and (consensus) features.

                                     Tolerance is understood as 'plus or minus x', so the matching range inc

                                     reases by twice the given value. (default: '5.0' min: '0.0')

  -mz_tolerance &lt;value&gt;              M/z tolerance (in ppm or Da) for the matching of peptide identifications

                                     and (consensus) features.

                                     Tolerance is understood as 'plus or minus x', so the matching range inc

                                     reases by twice the given value. (default: '20.0' min: '0.0')

  -mz_measure &lt;choice&gt;               Unit of 'mz_tolerance'. (default: 'ppm' valid: 'ppm', 'Da')

  -mz_reference &lt;choice&gt;             Source of m/z values for peptide identifications. If 'precursor', the 

                                     precursor-m/z from the idXML is used. If 'peptide',

                                     masses are computed from the sequences of peptide hits; in this case, a

                                     n identification matches if any of its hits matches.

                                     ('peptide' should be used together with 'feature:use_centroid_mz' to av

                                     oid false-positive matches.) (default: 'peptide' valid: 'precursor',

                                     'peptide')

                                     



Additional options for featureXML input:

  -feature:use_centroid_rt &lt;choice&gt;  Use the RT coordinates of the feature centroids for matching, instead 

                                     of the RT ranges of the features/mass traces. (default: 'false' valid:

                                     'true', 'false')

  -feature:use_centroid_mz &lt;choice&gt;  Use the m/z coordinates of the feature centroids for matching, instead 

                                     of the m/z ranges of the features/mass traces.

                                     (If you choose 'peptide' as 'mz_reference', you should usually set this

                                     flag to avoid false-positive matches.) (default: 'true' valid: 'true',

                                     'false')



                                     



Additional options for consensusXML input:

  -consensus:use_subelements         Match using RT and m/z of sub-features instead of consensus RT and m/z. 

                                     A consensus feature matches if any of its sub-features matches.



Additional options for mzML input:

  -spectra:in &lt;file&gt;                 MS run used to annotated unidentified spectra to features or consensus 

                                     features. (valid formats: 'mzML')



                                     

Common TOPP options:

  -ini &lt;file&gt;                        Use the given TOPP INI file

  -threads &lt;n&gt;                       Sets the number of threads allowed to be used by the TOPP tool (default:

                                     '1')

  -write_ini &lt;file&gt;                  Writes the default configuration file

  --help                             Shows options

  --helphelp                         Shows all options (including advanced)



</pre><p> <b>INI file documentation of this tool:</b> <div class="ini_global">
<div class="legend">
<b>Legend:</b><br>
 <div class="item item_required">required parameter</div>
 <div class="item item_advanced">advanced parameter</div>
</div>
  <div class="node"><span class="node_name">+IDMapper</span><span class="node_description">Assigns protein/peptide identifications to features or consensus features.</span></div>
    <div class="item item_advanced"><span class="item_name" style="padding-left:16px;">version</span><span class="item_value">2.4.0-HEAD-2019-12-09</span>
<span class="item_description">Version of the tool that generated this parameters file.</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>    <div class="node"><span class="node_name">++1</span><span class="node_description">Instance '1' section for 'IDMapper'</span></div>
      <div class="item"><span class="item_name item_required" style="padding-left:24px;">id</span><span class="item_value"></span>
<span class="item_description">Protein/peptide identifications file</span><span class="item_tags">input file</span><span class="item_restrictions">*.mzid,*.idXML</span></div>      <div class="item"><span class="item_name item_required" style="padding-left:24px;">in</span><span class="item_value"></span>
<span class="item_description">Feature map/consensus map file</span><span class="item_tags">input file</span><span class="item_restrictions">*.featureXML,*.consensusXML,*.mzq</span></div>      <div class="item"><span class="item_name item_required" style="padding-left:24px;">out</span><span class="item_value"></span>
<span class="item_description">Output file (the format depends on the input file format).</span><span class="item_tags">output file</span><span class="item_restrictions">*.featureXML,*.consensusXML,*.mzq</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">rt_tolerance</span><span class="item_value">5.0</span>
<span class="item_description">RT tolerance (in seconds) for the matching of peptide identifications and (consensus) features.<br>Tolerance is understood as 'plus or minus x', so the matching range increases by twice the given value.</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">mz_tolerance</span><span class="item_value">20.0</span>
<span class="item_description">m/z tolerance (in ppm or Da) for the matching of peptide identifications and (consensus) features.<br>Tolerance is understood as 'plus or minus x', so the matching range increases by twice the given value.</span><span class="item_tags"></span><span class="item_restrictions">0.0:&#8734;</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">mz_measure</span><span class="item_value">ppm</span>
<span class="item_description">Unit of 'mz_tolerance'.</span><span class="item_tags"></span><span class="item_restrictions">ppm,Da</span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">mz_reference</span><span class="item_value">peptide</span>
<span class="item_description">Source of m/z values for peptide identifications. If 'precursor', the precursor-m/z from the idXML is used. If 'peptide',<br>masses are computed from the sequences of peptide hits; in this case, an identification matches if any of its hits matches.<br>('peptide' should be used together with 'feature:use_centroid_mz' to avoid false-positive matches.)</span><span class="item_tags"></span><span class="item_restrictions">precursor,peptide</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">ignore_charge</span><span class="item_value">false</span>
<span class="item_description">For feature/consensus maps: Assign an ID independently of whether its charge state matches that of the (consensus) feature.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">log</span><span class="item_value"></span>
<span class="item_description">Name of log file (created only when specified)</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">debug</span><span class="item_value">0</span>
<span class="item_description">Sets the debug level</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item"><span class="item_name" style="padding-left:24px;">threads</span><span class="item_value">1</span>
<span class="item_description">Sets the number of threads allowed to be used by the TOPP tool</span><span class="item_tags"></span><span class="item_restrictions"> </span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">no_progress</span><span class="item_value">false</span>
<span class="item_description">Disables progress logging to command line</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">force</span><span class="item_value">false</span>
<span class="item_description">Overwrite tool specific checks.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="item item_advanced"><span class="item_name" style="padding-left:24px;">test</span><span class="item_value">false</span>
<span class="item_description">Enables the test mode (needed for internal use only)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++feature</span><span class="node_description">Additional options for featureXML input</span></div>
        <div class="item"><span class="item_name" style="padding-left:32px;">use_centroid_rt</span><span class="item_value">false</span>
<span class="item_description">Use the RT coordinates of the feature centroids for matching, instead of the RT ranges of the features/mass traces.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="item"><span class="item_name" style="padding-left:32px;">use_centroid_mz</span><span class="item_value">true</span>
<span class="item_description">Use the m/z coordinates of the feature centroids for matching, instead of the m/z ranges of the features/mass traces.<br>(If you choose 'peptide' as 'mz_reference', you should usually set this flag to avoid false-positive matches.)</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++consensus</span><span class="node_description">Additional options for consensusXML input</span></div>
        <div class="item"><span class="item_name" style="padding-left:32px;">use_subelements</span><span class="item_value">false</span>
<span class="item_description">Match using RT and m/z of sub-features instead of consensus RT and m/z. A consensus feature matches if any of its sub-features matches.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>        <div class="item item_advanced"><span class="item_name" style="padding-left:32px;">annotate_ids_with_subelements</span><span class="item_value">false</span>
<span class="item_description">Store the map index of the sub-feature in the peptide ID.</span><span class="item_tags"></span><span class="item_restrictions">true,false</span></div>      <div class="node"><span class="node_name">+++spectra</span><span class="node_description">Additional options for mzML input</span></div>
        <div class="item"><span class="item_name" style="padding-left:32px;">in</span><span class="item_value"></span>
<span class="item_description">MS run used to annotated unidentified spectra to features or consensus features.</span><span class="item_tags">input file</span><span class="item_restrictions">*.mzML</span></div></div>
<p>On the peptide side, two sources for m/z values are possible (see parameter <code>mz_reference</code>): 1. m/z of the precursor of the MS2 spectrum that gave rise to the peptide identification; 2. theoretical masses computed from the amino acid sequences of peptide hits. (When using theoretical masses, make sure that peptide modifications were identified correctly. <a class="el" href="a05822.html" title="Main OpenMS namespace.">OpenMS</a> currently "forgets" mass shifts that it can't assign to modifications - if that happens, masses computed from peptide sequences will be off.)</p>
<dl class="deprecated"><dt><b><a class="el" href="a05780.html#_deprecated000002">Deprecated:</a></b></dt><dd>The parameter handling of this tool has been reworked. For greater consistency with other tools, the parameters <code>rt_delta</code> and <code>mz_delta</code> have been renamed to <code>rt_tolerance</code> and <code>mz_tolerance</code>. The possible values of the <code>mz_reference</code> parameter have also been renamed. The default value of <code>mz_tolerance</code> has been increased from 1 ppm to a more realistic 20 ppm.<br  />
Most importantly, the <code>use_centroids</code> parameter from previous versions has been split into two parameters, <code>feature:use_centroid_rt</code> and <code>feature:use_centroid_mz</code>. In <a class="el" href="a05822.html" title="Main OpenMS namespace.">OpenMS</a> 1.6, peptide identifications would be matched only against monoisotopic mass traces of features if <code>mz_reference</code> was <code>PeptideMass</code>; otherwise, all mass traces would be used. This implicit behaviour has been abandoned, you can now explicitly control it with the <code>feature:use_centroid_mz</code> parameter. <code>feature:use_centroid_mz</code> does not take into account m/z deviations in the monoisotopic mass trace, but this can be compensated by increasing <code>mz_tolerance</code>. The new implementation should work correctly even if the monoisotopic mass trace itself was not detected.</dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:28 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
