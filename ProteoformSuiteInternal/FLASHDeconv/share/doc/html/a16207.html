<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenMS: TOPP for Advanced Users</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style_ini.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenMS_75x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenMS
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a16239.html">User Quickstart Guide</a></li><li class="navelem"><a class="el" href="a16240.html">TOPP documentation</a></li><li class="navelem"><a class="el" href="a16358.html">XTandemAdapter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TOPP for Advanced Users </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We will not introduce you to some advanced concepts of TOPP, which will increase your productivity and easy usage.</p>
<p><b>Global database for search engine adapters</b></p>
<p>In your $HOME directory you will find an OpenMS.ini file in the <em></em>.OpenMS subfolder. This INI file contains global parameters which are honored by many/all TOPP tools - depending on what the parameters refer to. The <em>id_db_dir</em> parameter allows you to specify one or more directories where you have placed FASTA files (or related, e.g., .psq files). If you now specify just a filename (without path) in an ID engine adapter, the filename will be looked up in the current working directory. If its not found, the directories specified in <em>id_db_dir</em> will be searched. This allows you to build scripts and/or TOPPAS pipelines which are portable across several computers - you just have to adapt the OpenMS.ini once on each machine.</p>
<p>Note when using TOPPAS: You can use an "input file" node to specify the FASTA file for several engines simultaneously. However, when selecting the file, TOPPAS will use the absolute pathname and the dialog will not allow you to name a non-existing file. After you've selected the file, you can however edit the filename and remove the path (this will issue a warning which you can ignore).</p>
<dl class="section note"><dt>Note</dt><dd>This approach does not work for our MascotAdapters, as each Mascot instance has its own database managed internally. You can however, make sure that the database is present on all mascot servers you are going to use, thus making the INI settings portable.</dd></dl>
<p><b>Using External tools in your workflows</b></p>
<p>OpenMS supports the wrapping of external tools (like msconvert from ProteoWizard), thus allowing you to build scripts and/or TOPPAS pipelines containing external tools.</p>
<div class="fragment"><div class="line">This ReadMe describes how <a class="code" href="a05822.html">OpenMS</a> deals with TOPP tool description (*.ttd) files and the external tools wrapped by them.</div>
<div class="line"> </div>
<div class="line">== General ==</div>
<div class="line"> </div>
<div class="line">Using *.ttd files <a class="code" href="a05822.html">OpenMS</a> can be instructed to run external tools (like msconvert from Proteowizard) in a convenient way.</div>
<div class="line">Each *.ttd file can contain one or more &lt;tool&gt; sections, each telling <a class="code" href="a05822.html">OpenMS</a> how to call the respective tool.</div>
<div class="line">You can then use our TOPP tool</div>
<div class="line"> </div>
<div class="line">  GenericWrapper</div>
<div class="line"> </div>
<div class="line">to run the external tool.</div>
<div class="line">GenericWrapper will dynamically change its available <span class="stringliteral">&#39;-type&#39;</span> parameter list, depending on the *.ttd files present in <span class="keyword">this</span> folder.</div>
<div class="line"> </div>
<div class="line">The name of the *.ttd file does not really matter, but it should be descriptive.</div>
<div class="line"> </div>
<div class="line">This way you can now easily integrate external tools into TOPPAS, by just adding a GenericWrapper node of the desired <span class="stringliteral">&#39;-type&#39;</span>.</div>
<div class="line"> </div>
<div class="line">===============</div>
<div class="line">== For Users ==</div>
<div class="line">===============</div>
<div class="line"> </div>
<div class="line">If you want to add a custom *.ttd file (obtainable from our website or other users), simply add it to <span class="keyword">this</span> folder.</div>
<div class="line">Some tools (like <span class="stringliteral">&#39;mail&#39;</span> on linux), might only be available on certain Operating Systems. In <span class="keyword">this</span> <span class="keywordflow">case</span> you should</div>
<div class="line">place them in the respective subfolder. The folder of <span class="keyword">this</span> ReadMe and the subfolder matching your Operating System will be</div>
<div class="line">scanned <span class="keywordflow">for</span> *.ttd files.</div>
<div class="line">Additionally you can create an environment variable OPENMS_TTD_PATH and use it to point to one (!) custom directory of your choice.</div>
<div class="line">This is useful when upgrading <a class="code" href="a05822.html">OpenMS</a> to another version while keeping all your custom *.ttd files.</div>
<div class="line"> </div>
<div class="line">If you encounter a bug, file a bug report via https:<span class="comment">//github.com/OpenMS/OpenMS/issues</span></div>
<div class="line">and provide the output of GenericWrapper (ideally with &#39;-debug 10&#39; option enabled)</div>
<div class="line">and your input files (if applicable).</div>
<div class="line"> </div>
<div class="line">After adding/removing *.ttd files you need to restart any open instances of TOPPAS to see the updated list of types for GenericWrapper.</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">===========================</div>
<div class="line">== For experienced Users ==</div>
<div class="line">===========================</div>
<div class="line"> </div>
<div class="line">Hints -- read(!):</div>
<div class="line"> - When mapping a SINGLE filename while building the command line in &#39;cloptions&#39;, wrap them in QUOTES! (to avoid the &#39;spaces in filenames&#39; problem)</div>
<div class="line"> - When mapping a LIST of filenames (from ITEMLIST parameters) while building the command line in &#39;cloptions&#39;, NO NOT QUOTE! (GenericWrapper will do this automatically)</div>
<div class="line"> - Find a good name for &lt;type&gt; - it should be descriptive duplicate names are not allowed</div>
<div class="line"> </div>
<div class="line">If you want to wrap your own tools and write custom *.ttd files,</div>
<div class="line">a good starting point is the </div>
<div class="line"> </div>
<div class="line">  TEMPLATE.ttd_</div>
<div class="line"> </div>
<div class="line">file. See description inside the file.</div>
<div class="line"> </div>
<div class="line">The template&#39;s suffix is &#39;ttd_&#39; in order to disregard it as an active *.ttd file.</div>
<div class="line">Make a copy of it and modify to your needs.</div>
<div class="line"> </div>
<div class="line">Once you are done, place the new *.ttd in either this folder (for all Operating Systems) or the correct subfolder.</div>
<div class="line"> </div>
<div class="line">You can also have a look at existing wrappers and get inspiration.</div>
<div class="line"> </div>
<div class="line">A note on using more complicated shell commands (e.g. piping):</div>
<div class="line">  - as we use <a class="code" href="a16133.html">QProcess</a> to call the external tool, no piping and shell internal commands (such as &#39;echo&#39; on Windows) are supported</div>
<div class="line">    To work around this you have to specify the command tool itself, e.g.</div>
<div class="line">  </div>
<div class="line">  &lt;path&gt;cmd&lt;/path&gt;</div>
<div class="line">  &lt;cloptions&gt;/C &quot;echo &quot;&quot;bla bla&quot;&quot; &gt; testfile&quot;&lt;/cloptions&gt;</div>
<div class="line">  </div>
<div class="line">  or</div>
<div class="line">  </div>
<div class="line">  &lt;path&gt;sh&lt;/path&gt;</div>
<div class="line">  &lt;cloptions&gt;-<a class="code" href="a05830.html#a8fc6defe4e499b1b9b9c275689e44352">c</a> &quot;echo &quot;&quot;&quot;%2&quot;&quot;&quot; &gt; testfile&quot;&lt;/cloptions&gt;</div>
<div class="line">                  </div>
<div class="line">  Note that escaping of internal quotes works different on each platform. You need to <a class="code" href="a05829.html#a69f942d7289d5ed2ffe3a00b12235d04">test</a> this!</div>
<div class="line">  </div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aa05830_html_a8fc6defe4e499b1b9b9c275689e44352"><div class="ttname"><a href="a05830.html#a8fc6defe4e499b1b9b9c275689e44352">OpenMS::Constants::c</a></div><div class="ttdeci">const double c</div></div>
<div class="ttc" id="aa05829_html_a69f942d7289d5ed2ffe3a00b12235d04"><div class="ttname"><a href="a05829.html#a69f942d7289d5ed2ffe3a00b12235d04">OpenMS::Internal::ClassTest::test</a></div><div class="ttdeci">bool test</div><div class="ttdoc">Status of the current subsection.</div></div>
<div class="ttc" id="aa16133_html"><div class="ttname"><a href="a16133.html">QProcess</a></div></div>
<div class="ttc" id="aa05822_html"><div class="ttname"><a href="a05822.html">OpenMS</a></div><div class="ttdoc">Main OpenMS namespace.</div><div class="ttdef"><b>Definition:</b> FeatureDeconvolution.h:46</div></div>
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 9 2019 15:06:25 for OpenMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
